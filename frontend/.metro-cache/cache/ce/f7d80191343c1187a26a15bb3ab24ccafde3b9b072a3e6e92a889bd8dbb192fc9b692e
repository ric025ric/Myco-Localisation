{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TouchableOpacity","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PnQOoa8QGKpV5+issz6ikk463eg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Share","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"paYWbT2KXBPB3KP1hDE47z0MUe8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@expo/vector-icons","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":131},"end":{"line":10,"column":46,"index":177}}],"key":"ow7vkrqkIckRjlSi/+MhMmRYtUE=","exportNames":["*"],"imports":1}},{"name":"../contexts/LanguageContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":178},"end":{"line":11,"column":58,"index":236}}],"key":"8vAim0X4jzrCOYs5F0UrVjCCIQQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"expo-contacts","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":15,"column":13,"index":306},"end":{"line":15,"column":37,"index":330}}],"key":"pU46eOxB0NIFxgKjxZlZqyfeBQg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/SOSButton.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return SOSButton;\n    }\n  });\n  require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsTouchableOpacity = require(_dependencyMap[1], \"react-native-web/dist/exports/TouchableOpacity\");\n  var TouchableOpacity = _interopDefault(_reactNativeWebDistExportsTouchableOpacity);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[2], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[4], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  var _reactNativeWebDistExportsShare = require(_dependencyMap[5], \"react-native-web/dist/exports/Share\");\n  var Share = _interopDefault(_reactNativeWebDistExportsShare);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[6], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoVectorIcons = require(_dependencyMap[7], \"@expo/vector-icons\");\n  var _contextsLanguageContext = require(_dependencyMap[8], \"../contexts/LanguageContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[9], \"react/jsx-dev-runtime\");\n  let Contacts = null;\n  if (Platform.default.OS !== 'web') {\n    Contacts = require(_dependencyMap[10], \"expo-contacts\");\n  }\n  function SOSButton({\n    location\n  }) {\n    const {\n      t\n    } = (0, _contextsLanguageContext.useLanguage)();\n    const handleSOS = async () => {\n      if (!location) {\n        Alert.default.alert(t('common.error'), t('error.locationRequired'));\n        return;\n      }\n      if (Platform.default.OS === 'web') {\n        // Sur web, juste partager via le share API\n        sharePosition();\n        return;\n      }\n      try {\n        const {\n          status\n        } = await Contacts.requestPermissionsAsync();\n        if (status !== 'granted') {\n          Alert.default.alert(t('common.error'), 'Permission contacts requise');\n          return;\n        }\n        sharePosition();\n      } catch (error) {\n        console.error('Error requesting contacts permission:', error);\n        sharePosition();\n      }\n    };\n    const sharePosition = async () => {\n      const {\n        latitude,\n        longitude\n      } = location.coords;\n      const googleMapsLink = `https://www.google.com/maps?q=${latitude},${longitude}`;\n      const message = `ðŸš¨ SOS - Je partage ma position avec vous!\\n\\nCoordonnÃ©es: ${latitude.toFixed(6)}, ${longitude.toFixed(6)}\\n\\nOuvrir dans Google Maps: ${googleMapsLink}`;\n      try {\n        await Share.default.share({\n          message\n        });\n      } catch (error) {\n        console.error('Error sharing position:', error);\n        Alert.default.alert(t('common.error'), t('sos.error'));\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TouchableOpacity.default, {\n      style: styles.sosButton,\n      onPress: handleSOS,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoVectorIcons.Ionicons, {\n        name: \"alert-circle\",\n        size: 24,\n        color: \"#fff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.sosText,\n        children: t('home.sos')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    sosButton: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      backgroundColor: '#f44336',\n      paddingVertical: 8,\n      paddingHorizontal: 16,\n      borderRadius: 20,\n      gap: 6\n    },\n    sosText: {\n      color: '#fff',\n      fontSize: 14,\n      fontWeight: 'bold'\n    }\n  });\n});","lineCount":126,"map":[[13,2,22,15,"Object"],[13,8,22,15],[13,9,22,15,"defineProperty"],[13,23,22,15],[13,24,22,15,"exports"],[13,31,22,15],[14,4,22,15,"enumerable"],[14,14,22,15],[15,4,22,15,"get"],[15,7,22,15],[15,18,22,15,"get"],[15,19,22,15],[16,6,22,15],[16,13,22,15,"SOSButton"],[16,22,22,15],[17,4,22,15],[18,2,22,15],[19,2,1,0,"require"],[19,9,1,0],[19,10,1,0,"_dependencyMap"],[19,24,1,0],[20,2,1,26],[20,6,1,26,"_reactNativeWebDistExportsTouchableOpacity"],[20,48,1,26],[20,51,1,26,"require"],[20,58,1,26],[20,59,1,26,"_dependencyMap"],[20,73,1,26],[21,2,1,26],[21,6,1,26,"TouchableOpacity"],[21,22,1,26],[21,25,1,26,"_interopDefault"],[21,40,1,26],[21,41,1,26,"_reactNativeWebDistExportsTouchableOpacity"],[21,83,1,26],[22,2,1,26],[22,6,1,26,"_reactNativeWebDistExportsText"],[22,36,1,26],[22,39,1,26,"require"],[22,46,1,26],[22,47,1,26,"_dependencyMap"],[22,61,1,26],[23,2,1,26],[23,6,1,26,"Text"],[23,10,1,26],[23,13,1,26,"_interopDefault"],[23,28,1,26],[23,29,1,26,"_reactNativeWebDistExportsText"],[23,59,1,26],[24,2,1,26],[24,6,1,26,"_reactNativeWebDistExportsStyleSheet"],[24,42,1,26],[24,45,1,26,"require"],[24,52,1,26],[24,53,1,26,"_dependencyMap"],[24,67,1,26],[25,2,1,26],[25,6,1,26,"StyleSheet"],[25,16,1,26],[25,19,1,26,"_interopDefault"],[25,34,1,26],[25,35,1,26,"_reactNativeWebDistExportsStyleSheet"],[25,71,1,26],[26,2,1,26],[26,6,1,26,"_reactNativeWebDistExportsAlert"],[26,37,1,26],[26,40,1,26,"require"],[26,47,1,26],[26,48,1,26,"_dependencyMap"],[26,62,1,26],[27,2,1,26],[27,6,1,26,"Alert"],[27,11,1,26],[27,14,1,26,"_interopDefault"],[27,29,1,26],[27,30,1,26,"_reactNativeWebDistExportsAlert"],[27,61,1,26],[28,2,1,26],[28,6,1,26,"_reactNativeWebDistExportsShare"],[28,37,1,26],[28,40,1,26,"require"],[28,47,1,26],[28,48,1,26,"_dependencyMap"],[28,62,1,26],[29,2,1,26],[29,6,1,26,"Share"],[29,11,1,26],[29,14,1,26,"_interopDefault"],[29,29,1,26],[29,30,1,26,"_reactNativeWebDistExportsShare"],[29,61,1,26],[30,2,1,26],[30,6,1,26,"_reactNativeWebDistExportsPlatform"],[30,40,1,26],[30,43,1,26,"require"],[30,50,1,26],[30,51,1,26,"_dependencyMap"],[30,65,1,26],[31,2,1,26],[31,6,1,26,"Platform"],[31,14,1,26],[31,17,1,26,"_interopDefault"],[31,32,1,26],[31,33,1,26,"_reactNativeWebDistExportsPlatform"],[31,67,1,26],[32,2,10,0],[32,6,10,0,"_expoVectorIcons"],[32,22,10,0],[32,25,10,0,"require"],[32,32,10,0],[32,33,10,0,"_dependencyMap"],[32,47,10,0],[33,2,11,0],[33,6,11,0,"_contextsLanguageContext"],[33,30,11,0],[33,33,11,0,"require"],[33,40,11,0],[33,41,11,0,"_dependencyMap"],[33,55,11,0],[34,2,11,58],[34,6,11,58,"_reactJsxDevRuntime"],[34,25,11,58],[34,28,11,58,"require"],[34,35,11,58],[34,36,11,58,"_dependencyMap"],[34,50,11,58],[35,2,13,0],[35,6,13,4,"Contacts"],[35,14,13,17],[35,17,13,20],[35,21,13,24],[36,2,14,0],[36,6,14,4,"Platform"],[36,14,14,12],[36,15,14,12,"default"],[36,22,14,12],[36,23,14,13,"OS"],[36,25,14,15],[36,30,14,20],[36,35,14,25],[36,37,14,27],[37,4,15,2,"Contacts"],[37,12,15,10],[37,15,15,13,"require"],[37,22,15,20],[37,23,15,20,"_dependencyMap"],[37,37,15,20],[37,58,15,36],[37,59,15,37],[38,2,16,0],[39,2,22,15],[39,11,22,24,"SOSButton"],[39,20,22,33,"SOSButton"],[39,21,22,34],[40,4,22,36,"location"],[41,2,22,61],[41,3,22,62],[41,5,22,64],[42,4,23,2],[42,10,23,8],[43,6,23,10,"t"],[44,4,23,12],[44,5,23,13],[44,8,23,16],[44,12,23,16,"useLanguage"],[44,36,23,27],[44,37,23,27,"useLanguage"],[44,48,23,27],[44,50,23,28],[44,51,23,29],[45,4,25,2],[45,10,25,8,"handleSOS"],[45,19,25,17],[45,22,25,20],[45,28,25,20,"handleSOS"],[45,29,25,20],[45,34,25,32],[46,6,26,4],[46,10,26,8],[46,11,26,9,"location"],[46,19,26,17],[46,21,26,19],[47,8,27,6,"Alert"],[47,13,27,11],[47,14,27,11,"default"],[47,21,27,11],[47,22,27,12,"alert"],[47,27,27,17],[47,28,27,18,"t"],[47,29,27,19],[47,30,27,20],[47,44,27,34],[47,45,27,35],[47,47,27,37,"t"],[47,48,27,38],[47,49,27,39],[47,73,27,63],[47,74,27,64],[47,75,27,65],[48,8,28,6],[49,6,29,4],[50,6,31,4],[50,10,31,8,"Platform"],[50,18,31,16],[50,19,31,16,"default"],[50,26,31,16],[50,27,31,17,"OS"],[50,29,31,19],[50,34,31,24],[50,39,31,29],[50,41,31,31],[51,8,32,6],[52,8,33,6,"sharePosition"],[52,21,33,19],[52,22,33,20],[52,23,33,21],[53,8,34,6],[54,6,35,4],[55,6,37,4],[55,10,37,8],[56,8,38,6],[56,14,38,12],[57,10,38,14,"status"],[58,8,38,21],[58,9,38,22],[58,12,38,25],[58,18,38,31,"Contacts"],[58,26,38,39],[58,27,38,40,"requestPermissionsAsync"],[58,50,38,63],[58,51,38,64],[58,52,38,65],[59,8,39,6],[59,12,39,10,"status"],[59,18,39,16],[59,23,39,21],[59,32,39,30],[59,34,39,32],[60,10,40,8,"Alert"],[60,15,40,13],[60,16,40,13,"default"],[60,23,40,13],[60,24,40,14,"alert"],[60,29,40,19],[60,30,40,20,"t"],[60,31,40,21],[60,32,40,22],[60,46,40,36],[60,47,40,37],[60,49,40,39],[60,78,40,68],[60,79,40,69],[61,10,41,8],[62,8,42,6],[63,8,44,6,"sharePosition"],[63,21,44,19],[63,22,44,20],[63,23,44,21],[64,6,45,4],[64,7,45,5],[64,8,45,6],[64,15,45,13,"error"],[64,20,45,18],[64,22,45,20],[65,8,46,6,"console"],[65,15,46,13],[65,16,46,14,"error"],[65,21,46,19],[65,22,46,20],[65,61,46,59],[65,63,46,61,"error"],[65,68,46,66],[65,69,46,67],[66,8,47,6,"sharePosition"],[66,21,47,19],[66,22,47,20],[66,23,47,21],[67,6,48,4],[68,4,49,2],[68,5,49,3],[69,4,51,2],[69,10,51,8,"sharePosition"],[69,23,51,21],[69,26,51,24],[69,32,51,24,"sharePosition"],[69,33,51,24],[69,38,51,36],[70,6,52,4],[70,12,52,10],[71,8,52,12,"latitude"],[71,16,52,20],[72,8,52,22,"longitude"],[73,6,52,32],[73,7,52,33],[73,10,52,36,"location"],[73,18,52,44],[73,19,52,45,"coords"],[73,25,52,51],[74,6,53,4],[74,12,53,10,"googleMapsLink"],[74,26,53,24],[74,29,53,27],[74,62,53,60,"latitude"],[74,70,53,68],[74,74,53,72,"longitude"],[74,83,53,81],[74,85,53,83],[75,6,54,4],[75,12,54,10,"message"],[75,19,54,17],[75,22,54,20],[75,84,54,82,"latitude"],[75,92,54,90],[75,93,54,91,"toFixed"],[75,100,54,98],[75,101,54,99],[75,102,54,100],[75,103,54,101],[75,108,54,106,"longitude"],[75,117,54,115],[75,118,54,116,"toFixed"],[75,125,54,123],[75,126,54,124],[75,127,54,125],[75,128,54,126],[75,160,54,158,"googleMapsLink"],[75,174,54,172],[75,176,54,174],[76,6,56,4],[76,10,56,8],[77,8,57,6],[77,14,57,12,"Share"],[77,19,57,17],[77,20,57,17,"default"],[77,27,57,17],[77,28,57,18,"share"],[77,33,57,23],[77,34,57,24],[78,10,58,8,"message"],[79,8,59,6],[79,9,59,7],[79,10,59,8],[80,6,60,4],[80,7,60,5],[80,8,60,6],[80,15,60,13,"error"],[80,20,60,18],[80,22,60,20],[81,8,61,6,"console"],[81,15,61,13],[81,16,61,14,"error"],[81,21,61,19],[81,22,61,20],[81,47,61,45],[81,49,61,47,"error"],[81,54,61,52],[81,55,61,53],[82,8,62,6,"Alert"],[82,13,62,11],[82,14,62,11,"default"],[82,21,62,11],[82,22,62,12,"alert"],[82,27,62,17],[82,28,62,18,"t"],[82,29,62,19],[82,30,62,20],[82,44,62,34],[82,45,62,35],[82,47,62,37,"t"],[82,48,62,38],[82,49,62,39],[82,60,62,50],[82,61,62,51],[82,62,62,52],[83,6,63,4],[84,4,64,2],[84,5,64,3],[85,4,66,2],[85,24,67,4],[85,28,67,4,"_reactJsxDevRuntime"],[85,47,67,4],[85,48,67,4,"jsxDEV"],[85,54,67,4],[85,56,67,5,"TouchableOpacity"],[85,72,67,21],[85,73,67,21,"default"],[85,80,67,21],[86,6,67,22,"style"],[86,11,67,27],[86,13,67,29,"styles"],[86,19,67,35],[86,20,67,36,"sosButton"],[86,29,67,46],[87,6,67,47,"onPress"],[87,13,67,54],[87,15,67,56,"handleSOS"],[87,24,67,66],[88,6,67,66,"children"],[88,14,67,66],[88,30,68,6],[88,34,68,6,"_reactJsxDevRuntime"],[88,53,68,6],[88,54,68,6,"jsxDEV"],[88,60,68,6],[88,62,68,7,"_expoVectorIcons"],[88,78,68,15],[88,79,68,15,"Ionicons"],[88,87,68,15],[89,8,68,16,"name"],[89,12,68,20],[89,14,68,21],[89,28,68,35],[90,8,68,36,"size"],[90,12,68,40],[90,14,68,42],[90,16,68,45],[91,8,68,46,"color"],[91,13,68,51],[91,15,68,52],[92,6,68,58],[93,8,68,58,"fileName"],[93,16,68,58],[93,18,68,58,"_jsxFileName"],[93,30,68,58],[94,8,68,58,"lineNumber"],[94,18,68,58],[95,8,68,58,"columnNumber"],[95,20,68,58],[96,6,68,58],[96,13,68,60],[96,14,68,61],[96,29,69,6],[96,33,69,6,"_reactJsxDevRuntime"],[96,52,69,6],[96,53,69,6,"jsxDEV"],[96,59,69,6],[96,61,69,7,"Text"],[96,65,69,11],[96,66,69,11,"default"],[96,73,69,11],[97,8,69,12,"style"],[97,13,69,17],[97,15,69,19,"styles"],[97,21,69,25],[97,22,69,26,"sosText"],[97,29,69,34],[98,8,69,34,"children"],[98,16,69,34],[98,18,69,36,"t"],[98,19,69,37],[98,20,69,38],[98,30,69,48],[99,6,69,49],[100,8,69,49,"fileName"],[100,16,69,49],[100,18,69,49,"_jsxFileName"],[100,30,69,49],[101,8,69,49,"lineNumber"],[101,18,69,49],[102,8,69,49,"columnNumber"],[102,20,69,49],[103,6,69,49],[103,13,69,56],[103,14,69,57],[104,4,69,57],[105,6,69,57,"fileName"],[105,14,69,57],[105,16,69,57,"_jsxFileName"],[105,28,69,57],[106,6,69,57,"lineNumber"],[106,16,69,57],[107,6,69,57,"columnNumber"],[107,18,69,57],[108,4,69,57],[108,11,70,22],[108,12,70,23],[109,2,72,0],[110,2,74,0],[110,8,74,6,"styles"],[110,14,74,12],[110,17,74,15,"StyleSheet"],[110,27,74,25],[110,28,74,25,"default"],[110,35,74,25],[110,36,74,26,"create"],[110,42,74,32],[110,43,74,33],[111,4,75,2,"sosButton"],[111,13,75,11],[111,15,75,13],[112,6,76,4,"flexDirection"],[112,19,76,17],[112,21,76,19],[112,26,76,24],[113,6,77,4,"alignItems"],[113,16,77,14],[113,18,77,16],[113,26,77,24],[114,6,78,4,"backgroundColor"],[114,21,78,19],[114,23,78,21],[114,32,78,30],[115,6,79,4,"paddingVertical"],[115,21,79,19],[115,23,79,21],[115,24,79,22],[116,6,80,4,"paddingHorizontal"],[116,23,80,21],[116,25,80,23],[116,27,80,25],[117,6,81,4,"borderRadius"],[117,18,81,16],[117,20,81,18],[117,22,81,20],[118,6,82,4,"gap"],[118,9,82,7],[118,11,82,9],[119,4,83,2],[119,5,83,3],[120,4,84,2,"sosText"],[120,11,84,9],[120,13,84,11],[121,6,85,4,"color"],[121,11,85,9],[121,13,85,11],[121,19,85,17],[122,6,86,4,"fontSize"],[122,14,86,12],[122,16,86,14],[122,18,86,16],[123,6,87,4,"fontWeight"],[123,16,87,14],[123,18,87,16],[124,4,88,2],[125,2,89,0],[125,3,89,1],[125,4,89,2],[126,0,89,3],[126,3]],"functionMap":{"names":["<global>","SOSButton","handleSOS","sharePosition"],"mappings":"AAA;eCqB;oBCG;GDwB;wBEE;GFa;CDQ"},"hasCjsExports":false},"type":"js/module"}]}