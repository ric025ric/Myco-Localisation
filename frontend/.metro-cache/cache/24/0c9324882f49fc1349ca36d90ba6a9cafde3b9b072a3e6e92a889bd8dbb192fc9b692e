{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TouchableOpacity","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PnQOoa8QGKpV5+issz6ikk463eg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Share","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"paYWbT2KXBPB3KP1hDE47z0MUe8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@expo/vector-icons","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":131},"end":{"line":10,"column":46,"index":177}}],"key":"ow7vkrqkIckRjlSi/+MhMmRYtUE=","exportNames":["*"],"imports":1}},{"name":"../contexts/LanguageContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":178},"end":{"line":11,"column":58,"index":236}}],"key":"8vAim0X4jzrCOYs5F0UrVjCCIQQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"expo-contacts","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":15,"column":13,"index":306},"end":{"line":15,"column":37,"index":330}}],"key":"pU46eOxB0NIFxgKjxZlZqyfeBQg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/SOSButton.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return SOSButton;\n    }\n  });\n  require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsTouchableOpacity = require(_dependencyMap[1], \"react-native-web/dist/exports/TouchableOpacity\");\n  var TouchableOpacity = _interopDefault(_reactNativeWebDistExportsTouchableOpacity);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[2], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[4], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  var _reactNativeWebDistExportsShare = require(_dependencyMap[5], \"react-native-web/dist/exports/Share\");\n  var Share = _interopDefault(_reactNativeWebDistExportsShare);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[6], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoVectorIcons = require(_dependencyMap[7], \"@expo/vector-icons\");\n  var _contextsLanguageContext = require(_dependencyMap[8], \"../contexts/LanguageContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[9], \"react/jsx-dev-runtime\");\n  let Contacts = null;\n  if (Platform.default.OS !== 'web') {\n    Contacts = require(_dependencyMap[10], \"expo-contacts\");\n  }\n  function SOSButton({\n    location\n  }) {\n    _s();\n    const {\n      t\n    } = (0, _contextsLanguageContext.useLanguage)();\n    const handleSOS = async () => {\n      if (!location) {\n        Alert.default.alert(t('common.error'), t('error.locationRequired'));\n        return;\n      }\n      if (Platform.default.OS === 'web') {\n        // Sur web, juste partager via le share API\n        sharePosition();\n        return;\n      }\n      try {\n        const {\n          status\n        } = await Contacts.requestPermissionsAsync();\n        if (status !== 'granted') {\n          Alert.default.alert(t('common.error'), 'Permission contacts requise');\n          return;\n        }\n        sharePosition();\n      } catch (error) {\n        console.error('Error requesting contacts permission:', error);\n        sharePosition();\n      }\n    };\n    const sharePosition = async () => {\n      const {\n        latitude,\n        longitude\n      } = location.coords;\n      const googleMapsLink = `https://www.google.com/maps?q=${latitude},${longitude}`;\n      const message = `ðŸš¨ SOS - Je partage ma position avec vous!\\n\\nCoordonnÃ©es: ${latitude.toFixed(6)}, ${longitude.toFixed(6)}\\n\\nOuvrir dans Google Maps: ${googleMapsLink}`;\n      try {\n        await Share.default.share({\n          message\n        });\n      } catch (error) {\n        console.error('Error sharing position:', error);\n        Alert.default.alert(t('common.error'), t('sos.error'));\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TouchableOpacity.default, {\n      style: styles.sosButton,\n      onPress: handleSOS,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoVectorIcons.Ionicons, {\n        name: \"alert-circle\",\n        size: 24,\n        color: \"#fff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.sosText,\n        children: t('home.sos')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n  }\n  _s(SOSButton, \"ot2YhC7pP10gRrIouBKIa40vomw=\", false, function () {\n    return [_contextsLanguageContext.useLanguage];\n  });\n  _c = SOSButton;\n  const styles = StyleSheet.default.create({\n    sosButton: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      backgroundColor: '#f44336',\n      paddingVertical: 8,\n      paddingHorizontal: 16,\n      borderRadius: 20,\n      gap: 6\n    },\n    sosText: {\n      color: '#fff',\n      fontSize: 14,\n      fontWeight: 'bold'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"SOSButton\");\n});","lineCount":134,"map":[[14,2,22,15,"Object"],[14,8,22,15],[14,9,22,15,"defineProperty"],[14,23,22,15],[14,24,22,15,"exports"],[14,31,22,15],[15,4,22,15,"enumerable"],[15,14,22,15],[16,4,22,15,"get"],[16,7,22,15],[16,18,22,15,"get"],[16,19,22,15],[17,6,22,15],[17,13,22,15,"SOSButton"],[17,22,22,15],[18,4,22,15],[19,2,22,15],[20,2,1,0,"require"],[20,9,1,0],[20,10,1,0,"_dependencyMap"],[20,24,1,0],[21,2,1,26],[21,6,1,26,"_reactNativeWebDistExportsTouchableOpacity"],[21,48,1,26],[21,51,1,26,"require"],[21,58,1,26],[21,59,1,26,"_dependencyMap"],[21,73,1,26],[22,2,1,26],[22,6,1,26,"TouchableOpacity"],[22,22,1,26],[22,25,1,26,"_interopDefault"],[22,40,1,26],[22,41,1,26,"_reactNativeWebDistExportsTouchableOpacity"],[22,83,1,26],[23,2,1,26],[23,6,1,26,"_reactNativeWebDistExportsText"],[23,36,1,26],[23,39,1,26,"require"],[23,46,1,26],[23,47,1,26,"_dependencyMap"],[23,61,1,26],[24,2,1,26],[24,6,1,26,"Text"],[24,10,1,26],[24,13,1,26,"_interopDefault"],[24,28,1,26],[24,29,1,26,"_reactNativeWebDistExportsText"],[24,59,1,26],[25,2,1,26],[25,6,1,26,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,26],[25,45,1,26,"require"],[25,52,1,26],[25,53,1,26,"_dependencyMap"],[25,67,1,26],[26,2,1,26],[26,6,1,26,"StyleSheet"],[26,16,1,26],[26,19,1,26,"_interopDefault"],[26,34,1,26],[26,35,1,26,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,26],[27,2,1,26],[27,6,1,26,"_reactNativeWebDistExportsAlert"],[27,37,1,26],[27,40,1,26,"require"],[27,47,1,26],[27,48,1,26,"_dependencyMap"],[27,62,1,26],[28,2,1,26],[28,6,1,26,"Alert"],[28,11,1,26],[28,14,1,26,"_interopDefault"],[28,29,1,26],[28,30,1,26,"_reactNativeWebDistExportsAlert"],[28,61,1,26],[29,2,1,26],[29,6,1,26,"_reactNativeWebDistExportsShare"],[29,37,1,26],[29,40,1,26,"require"],[29,47,1,26],[29,48,1,26,"_dependencyMap"],[29,62,1,26],[30,2,1,26],[30,6,1,26,"Share"],[30,11,1,26],[30,14,1,26,"_interopDefault"],[30,29,1,26],[30,30,1,26,"_reactNativeWebDistExportsShare"],[30,61,1,26],[31,2,1,26],[31,6,1,26,"_reactNativeWebDistExportsPlatform"],[31,40,1,26],[31,43,1,26,"require"],[31,50,1,26],[31,51,1,26,"_dependencyMap"],[31,65,1,26],[32,2,1,26],[32,6,1,26,"Platform"],[32,14,1,26],[32,17,1,26,"_interopDefault"],[32,32,1,26],[32,33,1,26,"_reactNativeWebDistExportsPlatform"],[32,67,1,26],[33,2,10,0],[33,6,10,0,"_expoVectorIcons"],[33,22,10,0],[33,25,10,0,"require"],[33,32,10,0],[33,33,10,0,"_dependencyMap"],[33,47,10,0],[34,2,11,0],[34,6,11,0,"_contextsLanguageContext"],[34,30,11,0],[34,33,11,0,"require"],[34,40,11,0],[34,41,11,0,"_dependencyMap"],[34,55,11,0],[35,2,11,58],[35,6,11,58,"_reactJsxDevRuntime"],[35,25,11,58],[35,28,11,58,"require"],[35,35,11,58],[35,36,11,58,"_dependencyMap"],[35,50,11,58],[36,2,13,0],[36,6,13,4,"Contacts"],[36,14,13,17],[36,17,13,20],[36,21,13,24],[37,2,14,0],[37,6,14,4,"Platform"],[37,14,14,12],[37,15,14,12,"default"],[37,22,14,12],[37,23,14,13,"OS"],[37,25,14,15],[37,30,14,20],[37,35,14,25],[37,37,14,27],[38,4,15,2,"Contacts"],[38,12,15,10],[38,15,15,13,"require"],[38,22,15,20],[38,23,15,20,"_dependencyMap"],[38,37,15,20],[38,58,15,36],[38,59,15,37],[39,2,16,0],[40,2,22,15],[40,11,22,24,"SOSButton"],[40,20,22,33,"SOSButton"],[40,21,22,34],[41,4,22,36,"location"],[42,2,22,61],[42,3,22,62],[42,5,22,64],[43,4,22,64,"_s"],[43,6,22,64],[44,4,23,2],[44,10,23,8],[45,6,23,10,"t"],[46,4,23,12],[46,5,23,13],[46,8,23,16],[46,12,23,16,"useLanguage"],[46,36,23,27],[46,37,23,27,"useLanguage"],[46,48,23,27],[46,50,23,28],[46,51,23,29],[47,4,25,2],[47,10,25,8,"handleSOS"],[47,19,25,17],[47,22,25,20],[47,28,25,20,"handleSOS"],[47,29,25,20],[47,34,25,32],[48,6,26,4],[48,10,26,8],[48,11,26,9,"location"],[48,19,26,17],[48,21,26,19],[49,8,27,6,"Alert"],[49,13,27,11],[49,14,27,11,"default"],[49,21,27,11],[49,22,27,12,"alert"],[49,27,27,17],[49,28,27,18,"t"],[49,29,27,19],[49,30,27,20],[49,44,27,34],[49,45,27,35],[49,47,27,37,"t"],[49,48,27,38],[49,49,27,39],[49,73,27,63],[49,74,27,64],[49,75,27,65],[50,8,28,6],[51,6,29,4],[52,6,31,4],[52,10,31,8,"Platform"],[52,18,31,16],[52,19,31,16,"default"],[52,26,31,16],[52,27,31,17,"OS"],[52,29,31,19],[52,34,31,24],[52,39,31,29],[52,41,31,31],[53,8,32,6],[54,8,33,6,"sharePosition"],[54,21,33,19],[54,22,33,20],[54,23,33,21],[55,8,34,6],[56,6,35,4],[57,6,37,4],[57,10,37,8],[58,8,38,6],[58,14,38,12],[59,10,38,14,"status"],[60,8,38,21],[60,9,38,22],[60,12,38,25],[60,18,38,31,"Contacts"],[60,26,38,39],[60,27,38,40,"requestPermissionsAsync"],[60,50,38,63],[60,51,38,64],[60,52,38,65],[61,8,39,6],[61,12,39,10,"status"],[61,18,39,16],[61,23,39,21],[61,32,39,30],[61,34,39,32],[62,10,40,8,"Alert"],[62,15,40,13],[62,16,40,13,"default"],[62,23,40,13],[62,24,40,14,"alert"],[62,29,40,19],[62,30,40,20,"t"],[62,31,40,21],[62,32,40,22],[62,46,40,36],[62,47,40,37],[62,49,40,39],[62,78,40,68],[62,79,40,69],[63,10,41,8],[64,8,42,6],[65,8,44,6,"sharePosition"],[65,21,44,19],[65,22,44,20],[65,23,44,21],[66,6,45,4],[66,7,45,5],[66,8,45,6],[66,15,45,13,"error"],[66,20,45,18],[66,22,45,20],[67,8,46,6,"console"],[67,15,46,13],[67,16,46,14,"error"],[67,21,46,19],[67,22,46,20],[67,61,46,59],[67,63,46,61,"error"],[67,68,46,66],[67,69,46,67],[68,8,47,6,"sharePosition"],[68,21,47,19],[68,22,47,20],[68,23,47,21],[69,6,48,4],[70,4,49,2],[70,5,49,3],[71,4,51,2],[71,10,51,8,"sharePosition"],[71,23,51,21],[71,26,51,24],[71,32,51,24,"sharePosition"],[71,33,51,24],[71,38,51,36],[72,6,52,4],[72,12,52,10],[73,8,52,12,"latitude"],[73,16,52,20],[74,8,52,22,"longitude"],[75,6,52,32],[75,7,52,33],[75,10,52,36,"location"],[75,18,52,44],[75,19,52,45,"coords"],[75,25,52,51],[76,6,53,4],[76,12,53,10,"googleMapsLink"],[76,26,53,24],[76,29,53,27],[76,62,53,60,"latitude"],[76,70,53,68],[76,74,53,72,"longitude"],[76,83,53,81],[76,85,53,83],[77,6,54,4],[77,12,54,10,"message"],[77,19,54,17],[77,22,54,20],[77,84,54,82,"latitude"],[77,92,54,90],[77,93,54,91,"toFixed"],[77,100,54,98],[77,101,54,99],[77,102,54,100],[77,103,54,101],[77,108,54,106,"longitude"],[77,117,54,115],[77,118,54,116,"toFixed"],[77,125,54,123],[77,126,54,124],[77,127,54,125],[77,128,54,126],[77,160,54,158,"googleMapsLink"],[77,174,54,172],[77,176,54,174],[78,6,56,4],[78,10,56,8],[79,8,57,6],[79,14,57,12,"Share"],[79,19,57,17],[79,20,57,17,"default"],[79,27,57,17],[79,28,57,18,"share"],[79,33,57,23],[79,34,57,24],[80,10,58,8,"message"],[81,8,59,6],[81,9,59,7],[81,10,59,8],[82,6,60,4],[82,7,60,5],[82,8,60,6],[82,15,60,13,"error"],[82,20,60,18],[82,22,60,20],[83,8,61,6,"console"],[83,15,61,13],[83,16,61,14,"error"],[83,21,61,19],[83,22,61,20],[83,47,61,45],[83,49,61,47,"error"],[83,54,61,52],[83,55,61,53],[84,8,62,6,"Alert"],[84,13,62,11],[84,14,62,11,"default"],[84,21,62,11],[84,22,62,12,"alert"],[84,27,62,17],[84,28,62,18,"t"],[84,29,62,19],[84,30,62,20],[84,44,62,34],[84,45,62,35],[84,47,62,37,"t"],[84,48,62,38],[84,49,62,39],[84,60,62,50],[84,61,62,51],[84,62,62,52],[85,6,63,4],[86,4,64,2],[86,5,64,3],[87,4,66,2],[87,24,67,4],[87,28,67,4,"_reactJsxDevRuntime"],[87,47,67,4],[87,48,67,4,"jsxDEV"],[87,54,67,4],[87,56,67,5,"TouchableOpacity"],[87,72,67,21],[87,73,67,21,"default"],[87,80,67,21],[88,6,67,22,"style"],[88,11,67,27],[88,13,67,29,"styles"],[88,19,67,35],[88,20,67,36,"sosButton"],[88,29,67,46],[89,6,67,47,"onPress"],[89,13,67,54],[89,15,67,56,"handleSOS"],[89,24,67,66],[90,6,67,66,"children"],[90,14,67,66],[90,30,68,6],[90,34,68,6,"_reactJsxDevRuntime"],[90,53,68,6],[90,54,68,6,"jsxDEV"],[90,60,68,6],[90,62,68,7,"_expoVectorIcons"],[90,78,68,15],[90,79,68,15,"Ionicons"],[90,87,68,15],[91,8,68,16,"name"],[91,12,68,20],[91,14,68,21],[91,28,68,35],[92,8,68,36,"size"],[92,12,68,40],[92,14,68,42],[92,16,68,45],[93,8,68,46,"color"],[93,13,68,51],[93,15,68,52],[94,6,68,58],[95,8,68,58,"fileName"],[95,16,68,58],[95,18,68,58,"_jsxFileName"],[95,30,68,58],[96,8,68,58,"lineNumber"],[96,18,68,58],[97,8,68,58,"columnNumber"],[97,20,68,58],[98,6,68,58],[98,13,68,60],[98,14,68,61],[98,29,69,6],[98,33,69,6,"_reactJsxDevRuntime"],[98,52,69,6],[98,53,69,6,"jsxDEV"],[98,59,69,6],[98,61,69,7,"Text"],[98,65,69,11],[98,66,69,11,"default"],[98,73,69,11],[99,8,69,12,"style"],[99,13,69,17],[99,15,69,19,"styles"],[99,21,69,25],[99,22,69,26,"sosText"],[99,29,69,34],[100,8,69,34,"children"],[100,16,69,34],[100,18,69,36,"t"],[100,19,69,37],[100,20,69,38],[100,30,69,48],[101,6,69,49],[102,8,69,49,"fileName"],[102,16,69,49],[102,18,69,49,"_jsxFileName"],[102,30,69,49],[103,8,69,49,"lineNumber"],[103,18,69,49],[104,8,69,49,"columnNumber"],[104,20,69,49],[105,6,69,49],[105,13,69,56],[105,14,69,57],[106,4,69,57],[107,6,69,57,"fileName"],[107,14,69,57],[107,16,69,57,"_jsxFileName"],[107,28,69,57],[108,6,69,57,"lineNumber"],[108,16,69,57],[109,6,69,57,"columnNumber"],[109,18,69,57],[110,4,69,57],[110,11,70,22],[110,12,70,23],[111,2,72,0],[112,2,72,1,"_s"],[112,4,72,1],[112,5,22,24,"SOSButton"],[112,14,22,33],[113,4,22,33],[113,12,23,16,"useLanguage"],[113,36,23,27],[113,37,23,27,"useLanguage"],[113,48,23,27],[114,2,23,27],[115,2,23,27,"_c"],[115,4,23,27],[115,7,22,24,"SOSButton"],[115,16,22,33],[116,2,74,0],[116,8,74,6,"styles"],[116,14,74,12],[116,17,74,15,"StyleSheet"],[116,27,74,25],[116,28,74,25,"default"],[116,35,74,25],[116,36,74,26,"create"],[116,42,74,32],[116,43,74,33],[117,4,75,2,"sosButton"],[117,13,75,11],[117,15,75,13],[118,6,76,4,"flexDirection"],[118,19,76,17],[118,21,76,19],[118,26,76,24],[119,6,77,4,"alignItems"],[119,16,77,14],[119,18,77,16],[119,26,77,24],[120,6,78,4,"backgroundColor"],[120,21,78,19],[120,23,78,21],[120,32,78,30],[121,6,79,4,"paddingVertical"],[121,21,79,19],[121,23,79,21],[121,24,79,22],[122,6,80,4,"paddingHorizontal"],[122,23,80,21],[122,25,80,23],[122,27,80,25],[123,6,81,4,"borderRadius"],[123,18,81,16],[123,20,81,18],[123,22,81,20],[124,6,82,4,"gap"],[124,9,82,7],[124,11,82,9],[125,4,83,2],[125,5,83,3],[126,4,84,2,"sosText"],[126,11,84,9],[126,13,84,11],[127,6,85,4,"color"],[127,11,85,9],[127,13,85,11],[127,19,85,17],[128,6,86,4,"fontSize"],[128,14,86,12],[128,16,86,14],[128,18,86,16],[129,6,87,4,"fontWeight"],[129,16,87,14],[129,18,87,16],[130,4,88,2],[131,2,89,0],[131,3,89,1],[131,4,89,2],[132,2,89,3],[132,6,89,3,"_c"],[132,8,89,3],[133,2,89,3,"$RefreshReg$"],[133,14,89,3],[133,15,89,3,"_c"],[133,17,89,3],[134,0,89,3],[134,3]],"functionMap":{"names":["<global>","SOSButton","handleSOS","sharePosition"],"mappings":"AAA;eCqB;oBCG;GDwB;wBEE;GFa;CDQ"},"hasCjsExports":false},"type":"js/module"}]}