{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":253},"end":{"line":6,"column":79,"index":332}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./ViewHolder","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":333},"end":{"line":7,"column":42,"index":375}}],"key":"6LHbfUGWued0llbhWF4FCHrz0ps=","exportNames":["*"],"imports":1}},{"name":"./components/CompatView","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":376},"end":{"line":8,"column":53,"index":429}}],"key":"x3xyTyYEOkCA+EAT5e8aUviD1aY=","exportNames":["*"],"imports":1}},{"name":"./RecyclerViewContextProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":430},"end":{"line":9,"column":71,"index":501}}],"key":"xkzKodpiEh9PM1d4t93OubNRFfg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"ViewHolderCollection\", {\n    enumerable: true,\n    get: function () {\n      return ViewHolderCollection;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopDefault(_react);\n  var _ViewHolder = require(_dependencyMap[1], \"./ViewHolder\");\n  var _componentsCompatView = require(_dependencyMap[2], \"./components/CompatView\");\n  var _RecyclerViewContextProvider = require(_dependencyMap[3], \"./RecyclerViewContextProvider\");\n  /**\n   * ViewHolderCollection is a container component that manages multiple ViewHolder instances.\n   * It handles the rendering of a collection of list items, manages layout updates,\n   * and coordinates with the RecyclerView context for layout changes.\n   */\n\n  /**\n   * ViewHolderCollection component that manages the rendering of multiple ViewHolder instances\n   * and handles layout updates for the entire collection\n   * @template TItem - The type of items in the data array\n   */\n  const ViewHolderCollection = props => {\n    const {\n      data,\n      renderStack,\n      getLayout,\n      refHolder,\n      onSizeChanged,\n      renderItem,\n      extraData,\n      viewHolderCollectionRef,\n      getChildContainerLayout,\n      onCommitLayoutEffect,\n      CellRendererComponent,\n      ItemSeparatorComponent,\n      onCommitEffect,\n      horizontal,\n      getAdjustmentMargin\n    } = props;\n    const [renderId, setRenderId] = React.default.useState(0);\n    const containerLayout = getChildContainerLayout();\n    const fixedContainerSize = horizontal ? containerLayout === null || containerLayout === void 0 ? void 0 : containerLayout.height : containerLayout === null || containerLayout === void 0 ? void 0 : containerLayout.width;\n    const recyclerViewContext = (0, _RecyclerViewContextProvider.useRecyclerViewContext)();\n    (0, _react.useLayoutEffect)(() => {\n      if (renderId > 0) {\n        // console.log(\n        //   \"parent layout trigger due to child container size change\",\n        //   fixedContainerSize\n        // );\n        recyclerViewContext === null || recyclerViewContext === void 0 ? void 0 : recyclerViewContext.layout();\n      }\n      // we need to run this callback on when fixedContainerSize changes\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [fixedContainerSize]);\n    (0, _react.useLayoutEffect)(() => {\n      if (renderId > 0) {\n        onCommitLayoutEffect === null || onCommitLayoutEffect === void 0 ? void 0 : onCommitLayoutEffect();\n      }\n      // we need to run this callback on when renderId changes\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [renderId]);\n    (0, _react.useEffect)(() => {\n      if (renderId > 0) {\n        onCommitEffect === null || onCommitEffect === void 0 ? void 0 : onCommitEffect();\n      }\n      // we need to run this callback on when renderId changes\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [renderId]);\n    // Expose forceUpdate through ref\n    (0, _react.useImperativeHandle)(viewHolderCollectionRef, () => ({\n      commitLayout: () => {\n        // This will trigger a re-render of the component\n        setRenderId(prev => prev + 1);\n      }\n    }), [setRenderId]);\n    const hasData = data && data.length > 0;\n    const containerStyle = {\n      width: horizontal ? containerLayout === null || containerLayout === void 0 ? void 0 : containerLayout.width : undefined,\n      height: containerLayout === null || containerLayout === void 0 ? void 0 : containerLayout.height,\n      marginTop: horizontal ? undefined : getAdjustmentMargin(),\n      marginLeft: horizontal ? getAdjustmentMargin() : undefined,\n      // TODO: Temp workaround, useLayoutEffect doesn't block paint in some cases\n      // We need to investigate why this is happening\n      opacity: renderId > 0 ? 1 : 0\n    };\n    // sort by index and log\n    // const sortedRenderStack = Array.from(renderStack.entries()).sort(\n    //   ([, a], [, b]) => a.index - b.index\n    // );\n    // console.log(\n    //   \"sortedRenderStack\",\n    //   sortedRenderStack.map(([reactKey, { index }]) => {\n    //     return `${index} => ${reactKey}`;\n    //   })\n    // );\n    return /*#__PURE__*/React.default.createElement(_componentsCompatView.CompatView, {\n      style: hasData && containerStyle\n    }, containerLayout && hasData && Array.from(renderStack.entries(), ([reactKey, {\n      index\n    }]) => {\n      const item = data[index];\n      const trailingItem = ItemSeparatorComponent ? data[index + 1] : undefined;\n      return /*#__PURE__*/React.default.createElement(_ViewHolder.ViewHolder, {\n        key: reactKey,\n        index: index,\n        item: item,\n        trailingItem: trailingItem,\n        layout: {\n          ...getLayout(index)\n        },\n        refHolder: refHolder,\n        onSizeChanged: onSizeChanged,\n        target: \"Cell\",\n        renderItem: renderItem,\n        extraData: extraData,\n        CellRendererComponent: CellRendererComponent,\n        ItemSeparatorComponent: ItemSeparatorComponent,\n        horizontal: horizontal\n      });\n    }));\n  };\n});","lineCount":134,"map":[[12,2,15,0,"Object"],[12,8,15,0],[12,9,15,0,"defineProperty"],[12,23,15,0],[12,24,15,0,"exports"],[12,31,15,0],[13,4,15,0,"enumerable"],[13,14,15,0],[14,4,15,0,"get"],[14,7,15,0],[14,18,15,0,"get"],[14,19,15,0],[15,6,15,0],[15,13,15,0,"ViewHolderCollection"],[15,33,15,0],[16,4,15,0],[17,2,15,0],[18,2,6,0],[18,6,6,0,"_react"],[18,12,6,0],[18,15,6,0,"require"],[18,22,6,0],[18,23,6,0,"_dependencyMap"],[18,37,6,0],[19,2,6,0],[19,6,6,0,"React"],[19,11,6,0],[19,14,6,0,"_interopDefault"],[19,29,6,0],[19,30,6,0,"_react"],[19,36,6,0],[20,2,7,0],[20,6,7,0,"_ViewHolder"],[20,17,7,0],[20,20,7,0,"require"],[20,27,7,0],[20,28,7,0,"_dependencyMap"],[20,42,7,0],[21,2,8,0],[21,6,8,0,"_componentsCompatView"],[21,27,8,0],[21,30,8,0,"require"],[21,37,8,0],[21,38,8,0,"_dependencyMap"],[21,52,8,0],[22,2,9,0],[22,6,9,0,"_RecyclerViewContextProvider"],[22,34,9,0],[22,37,9,0,"require"],[22,44,9,0],[22,45,9,0,"_dependencyMap"],[22,59,9,0],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[27,0,5,0],[29,2,10,0],[30,0,11,0],[31,0,12,0],[32,0,13,0],[33,0,14,0],[34,2,15,7],[34,8,15,13,"ViewHolderCollection"],[34,28,15,33],[34,31,15,37,"props"],[34,36,15,42],[34,40,15,47],[35,4,16,4],[35,10,16,10],[36,6,16,12,"data"],[36,10,16,16],[37,6,16,18,"renderStack"],[37,17,16,29],[38,6,16,31,"getLayout"],[38,15,16,40],[39,6,16,42,"refHolder"],[39,15,16,51],[40,6,16,53,"onSizeChanged"],[40,19,16,66],[41,6,16,68,"renderItem"],[41,16,16,78],[42,6,16,80,"extraData"],[42,15,16,89],[43,6,16,91,"viewHolderCollectionRef"],[43,29,16,114],[44,6,16,116,"getChildContainerLayout"],[44,29,16,139],[45,6,16,141,"onCommitLayoutEffect"],[45,26,16,161],[46,6,16,163,"CellRendererComponent"],[46,27,16,184],[47,6,16,186,"ItemSeparatorComponent"],[47,28,16,208],[48,6,16,210,"onCommitEffect"],[48,20,16,224],[49,6,16,226,"horizontal"],[49,16,16,236],[50,6,16,238,"getAdjustmentMargin"],[51,4,16,259],[51,5,16,260],[51,8,16,263,"props"],[51,13,16,268],[52,4,17,4],[52,10,17,10],[52,11,17,11,"renderId"],[52,19,17,19],[52,21,17,21,"setRenderId"],[52,32,17,32],[52,33,17,33],[52,36,17,36,"React"],[52,41,17,41],[52,42,17,41,"default"],[52,49,17,41],[52,50,17,42,"useState"],[52,58,17,50],[52,59,17,51],[52,60,17,52],[52,61,17,53],[53,4,18,4],[53,10,18,10,"containerLayout"],[53,25,18,25],[53,28,18,28,"getChildContainerLayout"],[53,51,18,51],[53,52,18,52],[53,53,18,53],[54,4,19,4],[54,10,19,10,"fixedContainerSize"],[54,28,19,28],[54,31,19,31,"horizontal"],[54,41,19,41],[54,44,20,10,"containerLayout"],[54,59,20,25],[54,64,20,30],[54,68,20,34],[54,72,20,38,"containerLayout"],[54,87,20,53],[54,92,20,58],[54,97,20,63],[54,98,20,64],[54,101,20,67],[54,106,20,72],[54,107,20,73],[54,110,20,76,"containerLayout"],[54,125,20,91],[54,126,20,92,"height"],[54,132,20,98],[54,135,21,10,"containerLayout"],[54,150,21,25],[54,155,21,30],[54,159,21,34],[54,163,21,38,"containerLayout"],[54,178,21,53],[54,183,21,58],[54,188,21,63],[54,189,21,64],[54,192,21,67],[54,197,21,72],[54,198,21,73],[54,201,21,76,"containerLayout"],[54,216,21,91],[54,217,21,92,"width"],[54,222,21,97],[55,4,22,4],[55,10,22,10,"recyclerViewContext"],[55,29,22,29],[55,32,22,32],[55,36,22,32,"useRecyclerViewContext"],[55,64,22,54],[55,65,22,54,"useRecyclerViewContext"],[55,87,22,54],[55,89,22,55],[55,90,22,56],[56,4,23,4],[56,8,23,4,"useLayoutEffect"],[56,14,23,19],[56,15,23,19,"useLayoutEffect"],[56,30,23,19],[56,32,23,20],[56,38,23,26],[57,6,24,8],[57,10,24,12,"renderId"],[57,18,24,20],[57,21,24,23],[57,22,24,24],[57,24,24,26],[58,8,25,12],[59,8,26,12],[60,8,27,12],[61,8,28,12],[62,8,29,12,"recyclerViewContext"],[62,27,29,31],[62,32,29,36],[62,36,29,40],[62,40,29,44,"recyclerViewContext"],[62,59,29,63],[62,64,29,68],[62,69,29,73],[62,70,29,74],[62,73,29,77],[62,78,29,82],[62,79,29,83],[62,82,29,86,"recyclerViewContext"],[62,101,29,105],[62,102,29,106,"layout"],[62,108,29,112],[62,109,29,113],[62,110,29,114],[63,6,30,8],[64,6,31,8],[65,6,32,8],[66,4,33,4],[66,5,33,5],[66,7,33,7],[66,8,33,8,"fixedContainerSize"],[66,26,33,26],[66,27,33,27],[66,28,33,28],[67,4,34,4],[67,8,34,4,"useLayoutEffect"],[67,14,34,19],[67,15,34,19,"useLayoutEffect"],[67,30,34,19],[67,32,34,20],[67,38,34,26],[68,6,35,8],[68,10,35,12,"renderId"],[68,18,35,20],[68,21,35,23],[68,22,35,24],[68,24,35,26],[69,8,36,12,"onCommitLayoutEffect"],[69,28,36,32],[69,33,36,37],[69,37,36,41],[69,41,36,45,"onCommitLayoutEffect"],[69,61,36,65],[69,66,36,70],[69,71,36,75],[69,72,36,76],[69,75,36,79],[69,80,36,84],[69,81,36,85],[69,84,36,88,"onCommitLayoutEffect"],[69,104,36,108],[69,105,36,109],[69,106,36,110],[70,6,37,8],[71,6,38,8],[72,6,39,8],[73,4,40,4],[73,5,40,5],[73,7,40,7],[73,8,40,8,"renderId"],[73,16,40,16],[73,17,40,17],[73,18,40,18],[74,4,41,4],[74,8,41,4,"useEffect"],[74,14,41,13],[74,15,41,13,"useEffect"],[74,24,41,13],[74,26,41,14],[74,32,41,20],[75,6,42,8],[75,10,42,12,"renderId"],[75,18,42,20],[75,21,42,23],[75,22,42,24],[75,24,42,26],[76,8,43,12,"onCommitEffect"],[76,22,43,26],[76,27,43,31],[76,31,43,35],[76,35,43,39,"onCommitEffect"],[76,49,43,53],[76,54,43,58],[76,59,43,63],[76,60,43,64],[76,63,43,67],[76,68,43,72],[76,69,43,73],[76,72,43,76,"onCommitEffect"],[76,86,43,90],[76,87,43,91],[76,88,43,92],[77,6,44,8],[78,6,45,8],[79,6,46,8],[80,4,47,4],[80,5,47,5],[80,7,47,7],[80,8,47,8,"renderId"],[80,16,47,16],[80,17,47,17],[80,18,47,18],[81,4,48,4],[82,4,49,4],[82,8,49,4,"useImperativeHandle"],[82,14,49,23],[82,15,49,23,"useImperativeHandle"],[82,34,49,23],[82,36,49,24,"viewHolderCollectionRef"],[82,59,49,47],[82,61,49,49],[82,68,49,56],[83,6,50,8,"commitLayout"],[83,18,50,20],[83,20,50,22,"commitLayout"],[83,21,50,22],[83,26,50,28],[84,8,51,12],[85,8,52,12,"setRenderId"],[85,19,52,23],[85,20,52,25,"prev"],[85,24,52,29],[85,28,52,34,"prev"],[85,32,52,38],[85,35,52,41],[85,36,52,42],[85,37,52,43],[86,6,53,8],[87,4,54,4],[87,5,54,5],[87,6,54,6],[87,8,54,8],[87,9,54,9,"setRenderId"],[87,20,54,20],[87,21,54,21],[87,22,54,22],[88,4,55,4],[88,10,55,10,"hasData"],[88,17,55,17],[88,20,55,20,"data"],[88,24,55,24],[88,28,55,28,"data"],[88,32,55,32],[88,33,55,33,"length"],[88,39,55,39],[88,42,55,42],[88,43,55,43],[89,4,56,4],[89,10,56,10,"containerStyle"],[89,24,56,24],[89,27,56,27],[90,6,57,8,"width"],[90,11,57,13],[90,13,57,15,"horizontal"],[90,23,57,25],[90,26,57,28,"containerLayout"],[90,41,57,43],[90,46,57,48],[90,50,57,52],[90,54,57,56,"containerLayout"],[90,69,57,71],[90,74,57,76],[90,79,57,81],[90,80,57,82],[90,83,57,85],[90,88,57,90],[90,89,57,91],[90,92,57,94,"containerLayout"],[90,107,57,109],[90,108,57,110,"width"],[90,113,57,115],[90,116,57,118,"undefined"],[90,125,57,127],[91,6,58,8,"height"],[91,12,58,14],[91,14,58,16,"containerLayout"],[91,29,58,31],[91,34,58,36],[91,38,58,40],[91,42,58,44,"containerLayout"],[91,57,58,59],[91,62,58,64],[91,67,58,69],[91,68,58,70],[91,71,58,73],[91,76,58,78],[91,77,58,79],[91,80,58,82,"containerLayout"],[91,95,58,97],[91,96,58,98,"height"],[91,102,58,104],[92,6,59,8,"marginTop"],[92,15,59,17],[92,17,59,19,"horizontal"],[92,27,59,29],[92,30,59,32,"undefined"],[92,39,59,41],[92,42,59,44,"getAdjustmentMargin"],[92,61,59,63],[92,62,59,64],[92,63,59,65],[93,6,60,8,"marginLeft"],[93,16,60,18],[93,18,60,20,"horizontal"],[93,28,60,30],[93,31,60,33,"getAdjustmentMargin"],[93,50,60,52],[93,51,60,53],[93,52,60,54],[93,55,60,57,"undefined"],[93,64,60,66],[94,6,61,8],[95,6,62,8],[96,6,63,8,"opacity"],[96,13,63,15],[96,15,63,17,"renderId"],[96,23,63,25],[96,26,63,28],[96,27,63,29],[96,30,63,32],[96,31,63,33],[96,34,63,36],[97,4,64,4],[97,5,64,5],[98,4,65,4],[99,4,66,4],[100,4,67,4],[101,4,68,4],[102,4,69,4],[103,4,70,4],[104,4,71,4],[105,4,72,4],[106,4,73,4],[107,4,74,4],[108,4,75,4],[108,24,75,12,"React"],[108,29,75,17],[108,30,75,17,"default"],[108,37,75,17],[108,38,75,18,"createElement"],[108,51,75,31],[108,52,75,32,"CompatView"],[108,73,75,42],[108,74,75,42,"CompatView"],[108,84,75,42],[108,86,75,44],[109,6,75,46,"style"],[109,11,75,51],[109,13,75,53,"hasData"],[109,20,75,60],[109,24,75,64,"containerStyle"],[110,4,75,79],[110,5,75,80],[110,7,75,82,"containerLayout"],[110,22,75,97],[110,26,76,8,"hasData"],[110,33,76,15],[110,37,77,8,"Array"],[110,42,77,13],[110,43,77,14,"from"],[110,47,77,18],[110,48,77,19,"renderStack"],[110,59,77,30],[110,60,77,31,"entries"],[110,67,77,38],[110,68,77,39],[110,69,77,40],[110,71,77,42],[110,72,77,43],[110,73,77,44,"reactKey"],[110,81,77,52],[110,83,77,54],[111,6,77,56,"index"],[112,4,77,62],[112,5,77,63],[112,6,77,64],[112,11,77,69],[113,6,78,12],[113,12,78,18,"item"],[113,16,78,22],[113,19,78,25,"data"],[113,23,78,29],[113,24,78,30,"index"],[113,29,78,35],[113,30,78,36],[114,6,79,12],[114,12,79,18,"trailingItem"],[114,24,79,30],[114,27,79,33,"ItemSeparatorComponent"],[114,49,79,55],[114,52,80,18,"data"],[114,56,80,22],[114,57,80,23,"index"],[114,62,80,28],[114,65,80,31],[114,66,80,32],[114,67,80,33],[114,70,81,18,"undefined"],[114,79,81,27],[115,6,82,12],[115,26,82,20,"React"],[115,31,82,25],[115,32,82,25,"default"],[115,39,82,25],[115,40,82,26,"createElement"],[115,53,82,39],[115,54,82,40,"ViewHolder"],[115,65,82,50],[115,66,82,50,"ViewHolder"],[115,76,82,50],[115,78,82,52],[116,8,82,54,"key"],[116,11,82,57],[116,13,82,59,"reactKey"],[116,21,82,67],[117,8,82,69,"index"],[117,13,82,74],[117,15,82,76,"index"],[117,20,82,81],[118,8,82,83,"item"],[118,12,82,87],[118,14,82,89,"item"],[118,18,82,93],[119,8,82,95,"trailingItem"],[119,20,82,107],[119,22,82,109,"trailingItem"],[119,34,82,121],[120,8,82,123,"layout"],[120,14,82,129],[120,16,82,131],[121,10,83,20],[121,13,83,23,"getLayout"],[121,22,83,32],[121,23,83,33,"index"],[121,28,83,38],[122,8,84,16],[122,9,84,17],[123,8,84,19,"refHolder"],[123,17,84,28],[123,19,84,30,"refHolder"],[123,28,84,39],[124,8,84,41,"onSizeChanged"],[124,21,84,54],[124,23,84,56,"onSizeChanged"],[124,36,84,69],[125,8,84,71,"target"],[125,14,84,77],[125,16,84,79],[125,22,84,85],[126,8,84,87,"renderItem"],[126,18,84,97],[126,20,84,99,"renderItem"],[126,30,84,109],[127,8,84,111,"extraData"],[127,17,84,120],[127,19,84,122,"extraData"],[127,28,84,131],[128,8,84,133,"CellRendererComponent"],[128,29,84,154],[128,31,84,156,"CellRendererComponent"],[128,52,84,177],[129,8,84,179,"ItemSeparatorComponent"],[129,30,84,201],[129,32,84,203,"ItemSeparatorComponent"],[129,54,84,225],[130,8,84,227,"horizontal"],[130,18,84,237],[130,20,84,239,"horizontal"],[131,6,84,250],[131,7,84,251],[131,8,84,252],[132,4,85,8],[132,5,85,9],[132,6,85,10],[132,7,85,11],[133,2,86,0],[133,3,86,1],[134,0,86,2],[134,3]],"functionMap":{"names":["<global>","ViewHolderCollection","useLayoutEffect$argument_0","useEffect$argument_0","useImperativeHandle$argument_1","commitLayout","setRenderId$argument_0","Array.from$argument_1"],"mappings":"AAA;oCCc;oBCQ;KDU;oBCC;KDM;cEC;KFM;iDGE;sBCC;wBCE,kBD;SDC;MHC;0CMuB;SNQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}