{"dependencies":[{"name":"./can-promise","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":2,"column":19,"index":20},"end":{"line":2,"column":43,"index":44}}],"key":"zGoqh/e+QHSZwjkMCI8k5XgwkAg=","exportNames":["*"],"imports":1}},{"name":"./core/qrcode","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":15,"index":61},"end":{"line":4,"column":39,"index":85}}],"key":"1mj6Uj2OP5xTtll8p4uVqPUZdoo=","exportNames":["*"],"imports":1}},{"name":"./renderer/canvas","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":23,"index":109},"end":{"line":5,"column":51,"index":137}}],"key":"vwEBUt/1Jh0ml8GTJ3pt+cnOnS4=","exportNames":["*"],"imports":1}},{"name":"./renderer/svg-tag.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":20,"index":158},"end":{"line":6,"column":52,"index":190}}],"key":"lwrbDGsus9SPFRRGiViSbwW98lw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  const canPromise = require(_dependencyMap[0], \"./can-promise\");\n  const QRCode = require(_dependencyMap[1], \"./core/qrcode\");\n  const CanvasRenderer = require(_dependencyMap[2], \"./renderer/canvas\");\n  const SvgRenderer = require(_dependencyMap[3], \"./renderer/svg-tag.js\");\n  function renderCanvas(renderFunc, canvas, text, opts, cb) {\n    const args = [].slice.call(arguments, 1);\n    const argsNum = args.length;\n    const isLastArgCb = typeof args[argsNum - 1] === 'function';\n    if (!isLastArgCb && !canPromise()) {\n      throw new Error('Callback required as last argument');\n    }\n    if (isLastArgCb) {\n      if (argsNum < 2) {\n        throw new Error('Too few arguments provided');\n      }\n      if (argsNum === 2) {\n        cb = text;\n        text = canvas;\n        canvas = opts = undefined;\n      } else if (argsNum === 3) {\n        if (canvas.getContext && typeof cb === 'undefined') {\n          cb = opts;\n          opts = undefined;\n        } else {\n          cb = opts;\n          opts = text;\n          text = canvas;\n          canvas = undefined;\n        }\n      }\n    } else {\n      if (argsNum < 1) {\n        throw new Error('Too few arguments provided');\n      }\n      if (argsNum === 1) {\n        text = canvas;\n        canvas = opts = undefined;\n      } else if (argsNum === 2 && !canvas.getContext) {\n        opts = text;\n        text = canvas;\n        canvas = undefined;\n      }\n      return new Promise(function (resolve, reject) {\n        try {\n          const data = QRCode.create(text, opts);\n          resolve(renderFunc(data, canvas, opts));\n        } catch (e) {\n          reject(e);\n        }\n      });\n    }\n    try {\n      const data = QRCode.create(text, opts);\n      cb(null, renderFunc(data, canvas, opts));\n    } catch (e) {\n      cb(e);\n    }\n  }\n  exports.create = QRCode.create;\n  exports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render);\n  exports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL);\n\n  // only svg for now.\n  exports.toString = renderCanvas.bind(null, function (data, _, opts) {\n    return SvgRenderer.render(data, opts);\n  });\n});","lineCount":68,"map":[[2,2,2,0],[2,8,2,6,"canPromise"],[2,18,2,16],[2,21,2,19,"require"],[2,28,2,26],[2,29,2,26,"_dependencyMap"],[2,43,2,26],[2,63,2,42],[2,64,2,43],[3,2,4,0],[3,8,4,6,"QRCode"],[3,14,4,12],[3,17,4,15,"require"],[3,24,4,22],[3,25,4,22,"_dependencyMap"],[3,39,4,22],[3,59,4,38],[3,60,4,39],[4,2,5,0],[4,8,5,6,"CanvasRenderer"],[4,22,5,20],[4,25,5,23,"require"],[4,32,5,30],[4,33,5,30,"_dependencyMap"],[4,47,5,30],[4,71,5,50],[4,72,5,51],[5,2,6,0],[5,8,6,6,"SvgRenderer"],[5,19,6,17],[5,22,6,20,"require"],[5,29,6,27],[5,30,6,27,"_dependencyMap"],[5,44,6,27],[5,72,6,51],[5,73,6,52],[6,2,8,0],[6,11,8,9,"renderCanvas"],[6,23,8,21,"renderCanvas"],[6,24,8,23,"renderFunc"],[6,34,8,33],[6,36,8,35,"canvas"],[6,42,8,41],[6,44,8,43,"text"],[6,48,8,47],[6,50,8,49,"opts"],[6,54,8,53],[6,56,8,55,"cb"],[6,58,8,57],[6,60,8,59],[7,4,9,2],[7,10,9,8,"args"],[7,14,9,12],[7,17,9,15],[7,19,9,17],[7,20,9,18,"slice"],[7,25,9,23],[7,26,9,24,"call"],[7,30,9,28],[7,31,9,29,"arguments"],[7,40,9,38],[7,42,9,40],[7,43,9,41],[7,44,9,42],[8,4,10,2],[8,10,10,8,"argsNum"],[8,17,10,15],[8,20,10,18,"args"],[8,24,10,22],[8,25,10,23,"length"],[8,31,10,29],[9,4,11,2],[9,10,11,8,"isLastArgCb"],[9,21,11,19],[9,24,11,22],[9,31,11,29,"args"],[9,35,11,33],[9,36,11,34,"argsNum"],[9,43,11,41],[9,46,11,44],[9,47,11,45],[9,48,11,46],[9,53,11,51],[9,63,11,61],[10,4,13,2],[10,8,13,6],[10,9,13,7,"isLastArgCb"],[10,20,13,18],[10,24,13,22],[10,25,13,23,"canPromise"],[10,35,13,33],[10,36,13,34],[10,37,13,35],[10,39,13,37],[11,6,14,4],[11,12,14,10],[11,16,14,14,"Error"],[11,21,14,19],[11,22,14,20],[11,58,14,56],[11,59,14,57],[12,4,15,2],[13,4,17,2],[13,8,17,6,"isLastArgCb"],[13,19,17,17],[13,21,17,19],[14,6,18,4],[14,10,18,8,"argsNum"],[14,17,18,15],[14,20,18,18],[14,21,18,19],[14,23,18,21],[15,8,19,6],[15,14,19,12],[15,18,19,16,"Error"],[15,23,19,21],[15,24,19,22],[15,52,19,50],[15,53,19,51],[16,6,20,4],[17,6,22,4],[17,10,22,8,"argsNum"],[17,17,22,15],[17,22,22,20],[17,23,22,21],[17,25,22,23],[18,8,23,6,"cb"],[18,10,23,8],[18,13,23,11,"text"],[18,17,23,15],[19,8,24,6,"text"],[19,12,24,10],[19,15,24,13,"canvas"],[19,21,24,19],[20,8,25,6,"canvas"],[20,14,25,12],[20,17,25,15,"opts"],[20,21,25,19],[20,24,25,22,"undefined"],[20,33,25,31],[21,6,26,4],[21,7,26,5],[21,13,26,11],[21,17,26,15,"argsNum"],[21,24,26,22],[21,29,26,27],[21,30,26,28],[21,32,26,30],[22,8,27,6],[22,12,27,10,"canvas"],[22,18,27,16],[22,19,27,17,"getContext"],[22,29,27,27],[22,33,27,31],[22,40,27,38,"cb"],[22,42,27,40],[22,47,27,45],[22,58,27,56],[22,60,27,58],[23,10,28,8,"cb"],[23,12,28,10],[23,15,28,13,"opts"],[23,19,28,17],[24,10,29,8,"opts"],[24,14,29,12],[24,17,29,15,"undefined"],[24,26,29,24],[25,8,30,6],[25,9,30,7],[25,15,30,13],[26,10,31,8,"cb"],[26,12,31,10],[26,15,31,13,"opts"],[26,19,31,17],[27,10,32,8,"opts"],[27,14,32,12],[27,17,32,15,"text"],[27,21,32,19],[28,10,33,8,"text"],[28,14,33,12],[28,17,33,15,"canvas"],[28,23,33,21],[29,10,34,8,"canvas"],[29,16,34,14],[29,19,34,17,"undefined"],[29,28,34,26],[30,8,35,6],[31,6,36,4],[32,4,37,2],[32,5,37,3],[32,11,37,9],[33,6,38,4],[33,10,38,8,"argsNum"],[33,17,38,15],[33,20,38,18],[33,21,38,19],[33,23,38,21],[34,8,39,6],[34,14,39,12],[34,18,39,16,"Error"],[34,23,39,21],[34,24,39,22],[34,52,39,50],[34,53,39,51],[35,6,40,4],[36,6,42,4],[36,10,42,8,"argsNum"],[36,17,42,15],[36,22,42,20],[36,23,42,21],[36,25,42,23],[37,8,43,6,"text"],[37,12,43,10],[37,15,43,13,"canvas"],[37,21,43,19],[38,8,44,6,"canvas"],[38,14,44,12],[38,17,44,15,"opts"],[38,21,44,19],[38,24,44,22,"undefined"],[38,33,44,31],[39,6,45,4],[39,7,45,5],[39,13,45,11],[39,17,45,15,"argsNum"],[39,24,45,22],[39,29,45,27],[39,30,45,28],[39,34,45,32],[39,35,45,33,"canvas"],[39,41,45,39],[39,42,45,40,"getContext"],[39,52,45,50],[39,54,45,52],[40,8,46,6,"opts"],[40,12,46,10],[40,15,46,13,"text"],[40,19,46,17],[41,8,47,6,"text"],[41,12,47,10],[41,15,47,13,"canvas"],[41,21,47,19],[42,8,48,6,"canvas"],[42,14,48,12],[42,17,48,15,"undefined"],[42,26,48,24],[43,6,49,4],[44,6,51,4],[44,13,51,11],[44,17,51,15,"Promise"],[44,24,51,22],[44,25,51,23],[44,35,51,33,"resolve"],[44,42,51,40],[44,44,51,42,"reject"],[44,50,51,48],[44,52,51,50],[45,8,52,6],[45,12,52,10],[46,10,53,8],[46,16,53,14,"data"],[46,20,53,18],[46,23,53,21,"QRCode"],[46,29,53,27],[46,30,53,28,"create"],[46,36,53,34],[46,37,53,35,"text"],[46,41,53,39],[46,43,53,41,"opts"],[46,47,53,45],[46,48,53,46],[47,10,54,8,"resolve"],[47,17,54,15],[47,18,54,16,"renderFunc"],[47,28,54,26],[47,29,54,27,"data"],[47,33,54,31],[47,35,54,33,"canvas"],[47,41,54,39],[47,43,54,41,"opts"],[47,47,54,45],[47,48,54,46],[47,49,54,47],[48,8,55,6],[48,9,55,7],[48,10,55,8],[48,17,55,15,"e"],[48,18,55,16],[48,20,55,18],[49,10,56,8,"reject"],[49,16,56,14],[49,17,56,15,"e"],[49,18,56,16],[49,19,56,17],[50,8,57,6],[51,6,58,4],[51,7,58,5],[51,8,58,6],[52,4,59,2],[53,4,61,2],[53,8,61,6],[54,6,62,4],[54,12,62,10,"data"],[54,16,62,14],[54,19,62,17,"QRCode"],[54,25,62,23],[54,26,62,24,"create"],[54,32,62,30],[54,33,62,31,"text"],[54,37,62,35],[54,39,62,37,"opts"],[54,43,62,41],[54,44,62,42],[55,6,63,4,"cb"],[55,8,63,6],[55,9,63,7],[55,13,63,11],[55,15,63,13,"renderFunc"],[55,25,63,23],[55,26,63,24,"data"],[55,30,63,28],[55,32,63,30,"canvas"],[55,38,63,36],[55,40,63,38,"opts"],[55,44,63,42],[55,45,63,43],[55,46,63,44],[56,4,64,2],[56,5,64,3],[56,6,64,4],[56,13,64,11,"e"],[56,14,64,12],[56,16,64,14],[57,6,65,4,"cb"],[57,8,65,6],[57,9,65,7,"e"],[57,10,65,8],[57,11,65,9],[58,4,66,2],[59,2,67,0],[60,2,69,0,"exports"],[60,9,69,7],[60,10,69,8,"create"],[60,16,69,14],[60,19,69,17,"QRCode"],[60,25,69,23],[60,26,69,24,"create"],[60,32,69,30],[61,2,70,0,"exports"],[61,9,70,7],[61,10,70,8,"toCanvas"],[61,18,70,16],[61,21,70,19,"renderCanvas"],[61,33,70,31],[61,34,70,32,"bind"],[61,38,70,36],[61,39,70,37],[61,43,70,41],[61,45,70,43,"CanvasRenderer"],[61,59,70,57],[61,60,70,58,"render"],[61,66,70,64],[61,67,70,65],[62,2,71,0,"exports"],[62,9,71,7],[62,10,71,8,"toDataURL"],[62,19,71,17],[62,22,71,20,"renderCanvas"],[62,34,71,32],[62,35,71,33,"bind"],[62,39,71,37],[62,40,71,38],[62,44,71,42],[62,46,71,44,"CanvasRenderer"],[62,60,71,58],[62,61,71,59,"renderToDataURL"],[62,76,71,74],[62,77,71,75],[64,2,73,0],[65,2,74,0,"exports"],[65,9,74,7],[65,10,74,8,"toString"],[65,18,74,16],[65,21,74,19,"renderCanvas"],[65,33,74,31],[65,34,74,32,"bind"],[65,38,74,36],[65,39,74,37],[65,43,74,41],[65,45,74,43],[65,55,74,53,"data"],[65,59,74,57],[65,61,74,59,"_"],[65,62,74,60],[65,64,74,62,"opts"],[65,68,74,66],[65,70,74,68],[66,4,75,2],[66,11,75,9,"SvgRenderer"],[66,22,75,20],[66,23,75,21,"render"],[66,29,75,27],[66,30,75,28,"data"],[66,34,75,32],[66,36,75,34,"opts"],[66,40,75,38],[66,41,75,39],[67,2,76,0],[67,3,76,1],[67,4,76,2],[68,0,76,2],[68,3]],"functionMap":{"names":["<global>","renderCanvas","Promise$argument_0","renderCanvas.bind$argument_1"],"mappings":"AAA;ACO;uBC2C;KDO;CDS;2CGO;CHE"},"hasCjsExports":true},"type":"js/module"}]}