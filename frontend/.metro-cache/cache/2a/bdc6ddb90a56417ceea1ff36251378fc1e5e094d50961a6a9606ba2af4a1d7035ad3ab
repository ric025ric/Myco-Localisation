{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../errors/ErrorMessages","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":56,"index":122}}],"key":"APtQ1ObkEMvvpKEHNjwmitGcEgw=","exportNames":["*"],"imports":1}},{"name":"./AutoScrollHelper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":61,"index":184}}],"key":"8b2Un17cKJbKjGV1aP0f1Eq0sdY=","exportNames":["*"],"imports":1}},{"name":"./JSFPSMonitor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":185},"end":{"line":4,"column":46,"index":231}}],"key":"16UxQEN3nxR/Q7ECgVw5SabPs0g=","exportNames":["*"],"imports":1}},{"name":"./useBenchmark","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":232},"end":{"line":5,"column":53,"index":285}}],"key":"G2gUC2oJKKn/6mcVDe1ROmkKIWE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useFlatListBenchmark = useFlatListBenchmark;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _errorsErrorMessages = require(_dependencyMap[1], \"../errors/ErrorMessages\");\n  var _AutoScrollHelper = require(_dependencyMap[2], \"./AutoScrollHelper\");\n  var _JSFPSMonitor = require(_dependencyMap[3], \"./JSFPSMonitor\");\n  var _useBenchmark = require(_dependencyMap[4], \"./useBenchmark\");\n  /**\n   * Runs the benchmark on FlatList and calls the callback method with the result.\n   * Target offset is mandatory in params.\n   * It's recommended to remove pagination while running the benchmark. Removing the onEndReached callback is the easiest way to do that.\n   */\n  function useFlatListBenchmark(flatListRef, callback, params) {\n    const [isBenchmarkRunning, setIsBenchmarkRunning] = (0, _react.useState)(false);\n    const cancellableRef = (0, _react.useRef)(null);\n    const startBenchmark = (0, _react.useCallback)(() => {\n      var _a;\n      if (isBenchmarkRunning) {\n        return;\n      }\n      const cancellable = new _AutoScrollHelper.Cancellable();\n      cancellableRef.current = cancellable;\n      if (flatListRef.current && flatListRef.current.props) {\n        if (!(Number((_a = flatListRef.current.props.data) === null || _a === void 0 ? void 0 : _a.length) > 0)) {\n          throw new Error(_errorsErrorMessages.ErrorMessages.dataEmptyCannotRunBenchmark);\n        }\n      }\n      setIsBenchmarkRunning(true);\n      const runBenchmark = async () => {\n        const jsFPSMonitor = new _JSFPSMonitor.JSFPSMonitor();\n        jsFPSMonitor.startTracking();\n        for (let i = 0; i < (params.repeatCount || 1); i++) {\n          await runScrollBenchmark(flatListRef, params.targetOffset, cancellable, params.speedMultiplier || 1);\n        }\n        const jsProfilerResponse = jsFPSMonitor.stopAndGetData();\n        const result = {\n          js: jsProfilerResponse,\n          suggestions: [],\n          interrupted: cancellable.isCancelled()\n        };\n        if (!cancellable.isCancelled()) {\n          result.formattedString = (0, _useBenchmark.getFormattedString)(result);\n        }\n        callback(result);\n        setIsBenchmarkRunning(false);\n      };\n      runBenchmark();\n    }, [callback, flatListRef, isBenchmarkRunning, params.repeatCount, params.speedMultiplier, params.targetOffset]);\n    (0, _react.useEffect)(() => {\n      if (params.startManually) {\n        return;\n      }\n      const cancelTimeout = setTimeout(() => {\n        startBenchmark();\n      }, params.startDelayInMs || 3000);\n      return () => {\n        clearTimeout(cancelTimeout);\n        if (cancellableRef.current) {\n          cancellableRef.current.cancel();\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return {\n      startBenchmark,\n      isBenchmarkRunning\n    };\n  }\n  /**\n   * Scrolls to the target offset and then back to 0\n   */\n  async function runScrollBenchmark(flatListRef, targetOffset, cancellable, scrollSpeedMultiplier) {\n    var _a;\n    if (flatListRef.current) {\n      const horizontal = Boolean((_a = flatListRef.current.props) === null || _a === void 0 ? void 0 : _a.horizontal);\n      const fromX = 0;\n      const fromY = 0;\n      const toX = horizontal ? targetOffset : 0;\n      const toY = horizontal ? 0 : targetOffset;\n      const scrollNow = (x, y) => {\n        var _a;\n        (_a = flatListRef.current) === null || _a === void 0 ? void 0 : _a.scrollToOffset({\n          offset: horizontal ? x : y,\n          animated: false\n        });\n      };\n      await (0, _AutoScrollHelper.autoScroll)(scrollNow, fromX, fromY, toX, toY, scrollSpeedMultiplier, cancellable);\n      await (0, _AutoScrollHelper.autoScroll)(scrollNow, toX, toY, fromX, fromY, scrollSpeedMultiplier, cancellable);\n    }\n  }\n});","lineCount":96,"map":[[7,2,11,0,"exports"],[7,9,11,0],[7,10,11,0,"useFlatListBenchmark"],[7,30,11,0],[7,33,11,0,"useFlatListBenchmark"],[7,53,11,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,2,0],[9,6,2,0,"_errorsErrorMessages"],[9,26,2,0],[9,29,2,0,"require"],[9,36,2,0],[9,37,2,0,"_dependencyMap"],[9,51,2,0],[10,2,3,0],[10,6,3,0,"_AutoScrollHelper"],[10,23,3,0],[10,26,3,0,"require"],[10,33,3,0],[10,34,3,0,"_dependencyMap"],[10,48,3,0],[11,2,4,0],[11,6,4,0,"_JSFPSMonitor"],[11,19,4,0],[11,22,4,0,"require"],[11,29,4,0],[11,30,4,0,"_dependencyMap"],[11,44,4,0],[12,2,5,0],[12,6,5,0,"_useBenchmark"],[12,19,5,0],[12,22,5,0,"require"],[12,29,5,0],[12,30,5,0,"_dependencyMap"],[12,44,5,0],[13,2,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,2,11,7],[18,11,11,16,"useFlatListBenchmark"],[18,31,11,36,"useFlatListBenchmark"],[18,32,11,37,"flatListRef"],[18,43,11,48],[18,45,11,50,"callback"],[18,53,11,58],[18,55,11,60,"params"],[18,61,11,66],[18,63,11,68],[19,4,12,4],[19,10,12,10],[19,11,12,11,"isBenchmarkRunning"],[19,29,12,29],[19,31,12,31,"setIsBenchmarkRunning"],[19,52,12,52],[19,53,12,53],[19,56,12,56],[19,60,12,56,"useState"],[19,66,12,64],[19,67,12,64,"useState"],[19,75,12,64],[19,77,12,65],[19,82,12,70],[19,83,12,71],[20,4,13,4],[20,10,13,10,"cancellableRef"],[20,24,13,24],[20,27,13,27],[20,31,13,27,"useRef"],[20,37,13,33],[20,38,13,33,"useRef"],[20,44,13,33],[20,46,13,34],[20,50,13,38],[20,51,13,39],[21,4,14,4],[21,10,14,10,"startBenchmark"],[21,24,14,24],[21,27,14,27],[21,31,14,27,"useCallback"],[21,37,14,38],[21,38,14,38,"useCallback"],[21,49,14,38],[21,51,14,39],[21,57,14,45],[22,6,15,8],[22,10,15,12,"_a"],[22,12,15,14],[23,6,16,8],[23,10,16,12,"isBenchmarkRunning"],[23,28,16,30],[23,30,16,32],[24,8,17,12],[25,6,18,8],[26,6,19,8],[26,12,19,14,"cancellable"],[26,23,19,25],[26,26,19,28],[26,30,19,32,"Cancellable"],[26,47,19,43],[26,48,19,43,"Cancellable"],[26,59,19,43],[26,60,19,44],[26,61,19,45],[27,6,20,8,"cancellableRef"],[27,20,20,22],[27,21,20,23,"current"],[27,28,20,30],[27,31,20,33,"cancellable"],[27,42,20,44],[28,6,21,8],[28,10,21,12,"flatListRef"],[28,21,21,23],[28,22,21,24,"current"],[28,29,21,31],[28,33,21,35,"flatListRef"],[28,44,21,46],[28,45,21,47,"current"],[28,52,21,54],[28,53,21,55,"props"],[28,58,21,60],[28,60,21,62],[29,8,22,12],[29,12,22,16],[29,14,22,18,"Number"],[29,20,22,24],[29,21,22,25],[29,22,22,26,"_a"],[29,24,22,28],[29,27,22,31,"flatListRef"],[29,38,22,42],[29,39,22,43,"current"],[29,46,22,50],[29,47,22,51,"props"],[29,52,22,56],[29,53,22,57,"data"],[29,57,22,61],[29,63,22,67],[29,67,22,71],[29,71,22,75,"_a"],[29,73,22,77],[29,78,22,82],[29,83,22,87],[29,84,22,88],[29,87,22,91],[29,92,22,96],[29,93,22,97],[29,96,22,100,"_a"],[29,98,22,102],[29,99,22,103,"length"],[29,105,22,109],[29,106,22,110],[29,109,22,113],[29,110,22,114],[29,111,22,115],[29,113,22,117],[30,10,23,16],[30,16,23,22],[30,20,23,26,"Error"],[30,25,23,31],[30,26,23,32,"ErrorMessages"],[30,46,23,45],[30,47,23,45,"ErrorMessages"],[30,60,23,45],[30,61,23,46,"dataEmptyCannotRunBenchmark"],[30,88,23,73],[30,89,23,74],[31,8,24,12],[32,6,25,8],[33,6,26,8,"setIsBenchmarkRunning"],[33,27,26,29],[33,28,26,30],[33,32,26,34],[33,33,26,35],[34,6,27,8],[34,12,27,14,"runBenchmark"],[34,24,27,26],[34,27,27,29],[34,33,27,29,"runBenchmark"],[34,34,27,29],[34,39,27,41],[35,8,28,12],[35,14,28,18,"jsFPSMonitor"],[35,26,28,30],[35,29,28,33],[35,33,28,37,"JSFPSMonitor"],[35,46,28,49],[35,47,28,49,"JSFPSMonitor"],[35,59,28,49],[35,60,28,50],[35,61,28,51],[36,8,29,12,"jsFPSMonitor"],[36,20,29,24],[36,21,29,25,"startTracking"],[36,34,29,38],[36,35,29,39],[36,36,29,40],[37,8,30,12],[37,13,30,17],[37,17,30,21,"i"],[37,18,30,22],[37,21,30,25],[37,22,30,26],[37,24,30,28,"i"],[37,25,30,29],[37,29,30,33,"params"],[37,35,30,39],[37,36,30,40,"repeatCount"],[37,47,30,51],[37,51,30,55],[37,52,30,56],[37,53,30,57],[37,55,30,59,"i"],[37,56,30,60],[37,58,30,62],[37,60,30,64],[38,10,31,16],[38,16,31,22,"runScrollBenchmark"],[38,34,31,40],[38,35,31,41,"flatListRef"],[38,46,31,52],[38,48,31,54,"params"],[38,54,31,60],[38,55,31,61,"targetOffset"],[38,67,31,73],[38,69,31,75,"cancellable"],[38,80,31,86],[38,82,31,88,"params"],[38,88,31,94],[38,89,31,95,"speedMultiplier"],[38,104,31,110],[38,108,31,114],[38,109,31,115],[38,110,31,116],[39,8,32,12],[40,8,33,12],[40,14,33,18,"jsProfilerResponse"],[40,32,33,36],[40,35,33,39,"jsFPSMonitor"],[40,47,33,51],[40,48,33,52,"stopAndGetData"],[40,62,33,66],[40,63,33,67],[40,64,33,68],[41,8,34,12],[41,14,34,18,"result"],[41,20,34,24],[41,23,34,27],[42,10,35,16,"js"],[42,12,35,18],[42,14,35,20,"jsProfilerResponse"],[42,32,35,38],[43,10,36,16,"suggestions"],[43,21,36,27],[43,23,36,29],[43,25,36,31],[44,10,37,16,"interrupted"],[44,21,37,27],[44,23,37,29,"cancellable"],[44,34,37,40],[44,35,37,41,"isCancelled"],[44,46,37,52],[44,47,37,53],[45,8,38,12],[45,9,38,13],[46,8,39,12],[46,12,39,16],[46,13,39,17,"cancellable"],[46,24,39,28],[46,25,39,29,"isCancelled"],[46,36,39,40],[46,37,39,41],[46,38,39,42],[46,40,39,44],[47,10,40,16,"result"],[47,16,40,22],[47,17,40,23,"formattedString"],[47,32,40,38],[47,35,40,41],[47,39,40,41,"getFormattedString"],[47,52,40,59],[47,53,40,59,"getFormattedString"],[47,71,40,59],[47,73,40,60,"result"],[47,79,40,66],[47,80,40,67],[48,8,41,12],[49,8,42,12,"callback"],[49,16,42,20],[49,17,42,21,"result"],[49,23,42,27],[49,24,42,28],[50,8,43,12,"setIsBenchmarkRunning"],[50,29,43,33],[50,30,43,34],[50,35,43,39],[50,36,43,40],[51,6,44,8],[51,7,44,9],[52,6,45,8,"runBenchmark"],[52,18,45,20],[52,19,45,21],[52,20,45,22],[53,4,46,4],[53,5,46,5],[53,7,46,7],[53,8,47,8,"callback"],[53,16,47,16],[53,18,48,8,"flatListRef"],[53,29,48,19],[53,31,49,8,"isBenchmarkRunning"],[53,49,49,26],[53,51,50,8,"params"],[53,57,50,14],[53,58,50,15,"repeatCount"],[53,69,50,26],[53,71,51,8,"params"],[53,77,51,14],[53,78,51,15,"speedMultiplier"],[53,93,51,30],[53,95,52,8,"params"],[53,101,52,14],[53,102,52,15,"targetOffset"],[53,114,52,27],[53,115,53,5],[53,116,53,6],[54,4,54,4],[54,8,54,4,"useEffect"],[54,14,54,13],[54,15,54,13,"useEffect"],[54,24,54,13],[54,26,54,14],[54,32,54,20],[55,6,55,8],[55,10,55,12,"params"],[55,16,55,18],[55,17,55,19,"startManually"],[55,30,55,32],[55,32,55,34],[56,8,56,12],[57,6,57,8],[58,6,58,8],[58,12,58,14,"cancelTimeout"],[58,25,58,27],[58,28,58,30,"setTimeout"],[58,38,58,40],[58,39,58,41],[58,45,58,47],[59,8,59,12,"startBenchmark"],[59,22,59,26],[59,23,59,27],[59,24,59,28],[60,6,60,8],[60,7,60,9],[60,9,60,11,"params"],[60,15,60,17],[60,16,60,18,"startDelayInMs"],[60,30,60,32],[60,34,60,36],[60,38,60,40],[60,39,60,41],[61,6,61,8],[61,13,61,15],[61,19,61,21],[62,8,62,12,"clearTimeout"],[62,20,62,24],[62,21,62,25,"cancelTimeout"],[62,34,62,38],[62,35,62,39],[63,8,63,12],[63,12,63,16,"cancellableRef"],[63,26,63,30],[63,27,63,31,"current"],[63,34,63,38],[63,36,63,40],[64,10,64,16,"cancellableRef"],[64,24,64,30],[64,25,64,31,"current"],[64,32,64,38],[64,33,64,39,"cancel"],[64,39,64,45],[64,40,64,46],[64,41,64,47],[65,8,65,12],[66,6,66,8],[66,7,66,9],[67,6,67,8],[68,4,68,4],[68,5,68,5],[68,7,68,7],[68,9,68,9],[68,10,68,10],[69,4,69,4],[69,11,69,11],[70,6,69,13,"startBenchmark"],[70,20,69,27],[71,6,69,29,"isBenchmarkRunning"],[72,4,69,48],[72,5,69,49],[73,2,70,0],[74,2,71,0],[75,0,72,0],[76,0,73,0],[77,2,74,0],[77,17,74,15,"runScrollBenchmark"],[77,35,74,33,"runScrollBenchmark"],[77,36,74,34,"flatListRef"],[77,47,74,45],[77,49,74,47,"targetOffset"],[77,61,74,59],[77,63,74,61,"cancellable"],[77,74,74,72],[77,76,74,74,"scrollSpeedMultiplier"],[77,97,74,95],[77,99,74,97],[78,4,75,4],[78,8,75,8,"_a"],[78,10,75,10],[79,4,76,4],[79,8,76,8,"flatListRef"],[79,19,76,19],[79,20,76,20,"current"],[79,27,76,27],[79,29,76,29],[80,6,77,8],[80,12,77,14,"horizontal"],[80,22,77,24],[80,25,77,27,"Boolean"],[80,32,77,34],[80,33,77,35],[80,34,77,36,"_a"],[80,36,77,38],[80,39,77,41,"flatListRef"],[80,50,77,52],[80,51,77,53,"current"],[80,58,77,60],[80,59,77,61,"props"],[80,64,77,66],[80,70,77,72],[80,74,77,76],[80,78,77,80,"_a"],[80,80,77,82],[80,85,77,87],[80,90,77,92],[80,91,77,93],[80,94,77,96],[80,99,77,101],[80,100,77,102],[80,103,77,105,"_a"],[80,105,77,107],[80,106,77,108,"horizontal"],[80,116,77,118],[80,117,77,119],[81,6,78,8],[81,12,78,14,"fromX"],[81,17,78,19],[81,20,78,22],[81,21,78,23],[82,6,79,8],[82,12,79,14,"fromY"],[82,17,79,19],[82,20,79,22],[82,21,79,23],[83,6,80,8],[83,12,80,14,"toX"],[83,15,80,17],[83,18,80,20,"horizontal"],[83,28,80,30],[83,31,80,33,"targetOffset"],[83,43,80,45],[83,46,80,48],[83,47,80,49],[84,6,81,8],[84,12,81,14,"toY"],[84,15,81,17],[84,18,81,20,"horizontal"],[84,28,81,30],[84,31,81,33],[84,32,81,34],[84,35,81,37,"targetOffset"],[84,47,81,49],[85,6,82,8],[85,12,82,14,"scrollNow"],[85,21,82,23],[85,24,82,26,"scrollNow"],[85,25,82,27,"x"],[85,26,82,28],[85,28,82,30,"y"],[85,29,82,31],[85,34,82,36],[86,8,83,12],[86,12,83,16,"_a"],[86,14,83,18],[87,8,84,12],[87,9,84,13,"_a"],[87,11,84,15],[87,14,84,18,"flatListRef"],[87,25,84,29],[87,26,84,30,"current"],[87,33,84,37],[87,39,84,43],[87,43,84,47],[87,47,84,51,"_a"],[87,49,84,53],[87,54,84,58],[87,59,84,63],[87,60,84,64],[87,63,84,67],[87,68,84,72],[87,69,84,73],[87,72,84,76,"_a"],[87,74,84,78],[87,75,84,79,"scrollToOffset"],[87,89,84,93],[87,90,84,94],[88,10,85,16,"offset"],[88,16,85,22],[88,18,85,24,"horizontal"],[88,28,85,34],[88,31,85,37,"x"],[88,32,85,38],[88,35,85,41,"y"],[88,36,85,42],[89,10,86,16,"animated"],[89,18,86,24],[89,20,86,26],[90,8,87,12],[90,9,87,13],[90,10,87,14],[91,6,88,8],[91,7,88,9],[92,6,89,8],[92,12,89,14],[92,16,89,14,"autoScroll"],[92,33,89,24],[92,34,89,24,"autoScroll"],[92,44,89,24],[92,46,89,25,"scrollNow"],[92,55,89,34],[92,57,89,36,"fromX"],[92,62,89,41],[92,64,89,43,"fromY"],[92,69,89,48],[92,71,89,50,"toX"],[92,74,89,53],[92,76,89,55,"toY"],[92,79,89,58],[92,81,89,60,"scrollSpeedMultiplier"],[92,102,89,81],[92,104,89,83,"cancellable"],[92,115,89,94],[92,116,89,95],[93,6,90,8],[93,12,90,14],[93,16,90,14,"autoScroll"],[93,33,90,24],[93,34,90,24,"autoScroll"],[93,44,90,24],[93,46,90,25,"scrollNow"],[93,55,90,34],[93,57,90,36,"toX"],[93,60,90,39],[93,62,90,41,"toY"],[93,65,90,44],[93,67,90,46,"fromX"],[93,72,90,51],[93,74,90,53,"fromY"],[93,79,90,58],[93,81,90,60,"scrollSpeedMultiplier"],[93,102,90,81],[93,104,90,83,"cancellable"],[93,115,90,94],[93,116,90,95],[94,4,91,4],[95,2,92,0],[96,0,92,1],[96,3]],"functionMap":{"names":["<global>","useFlatListBenchmark","startBenchmark","runBenchmark","useEffect$argument_0","setTimeout$argument_0","<anonymous>","runScrollBenchmark","scrollNow"],"mappings":"AAA;OCU;uCCG;6BCa;SDiB;KDE;cGQ;yCCI;SDE;eEC;SFK;KHE;CDE;AOI;0BCQ;SDM;CPI"},"hasCjsExports":false},"type":"js/module"}]}