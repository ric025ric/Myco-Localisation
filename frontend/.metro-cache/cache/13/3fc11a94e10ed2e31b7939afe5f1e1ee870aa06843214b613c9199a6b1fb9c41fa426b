{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.autoScroll = autoScroll;\n  Object.defineProperty(exports, \"Cancellable\", {\n    enumerable: true,\n    get: function () {\n      return Cancellable;\n    }\n  });\n  /**\n   * This method can be used to trigger scroll events that can be forwarded to an element. Anything that implements scrollable can leverage this.\n   * @param scroll The scrollable element\n   * @param fromX The x offset to start from\n   * @param fromY The y offset to start from\n   * @param toX the x offset to end scroll at\n   * @param toY the y offset to end scroll at\n   * @param speedMultiplier  the speed multiplier to use\n   * @param cancellable can be used to cancel the scroll\n   * @returns Promise that resolves when the scroll is complete\n   */\n  function autoScroll(scroll, fromX, fromY, toX, toY, speedMultiplier = 1, cancellable = new Cancellable()) {\n    return new Promise(resolve => {\n      scroll(fromX, fromY, false);\n      // Very fast scrolls on Android/iOS typically move content 7px every millisecond.\n      const incrementPerMs = 7 * speedMultiplier;\n      const directionMultiplierX = toX > fromX ? 1 : -1;\n      const directionMultiplierY = toY > fromY ? 1 : -1;\n      const comparatorX = toX > fromX ? Math.min : Math.max;\n      const comparatorY = toY > fromY ? Math.min : Math.max;\n      let startTime = Date.now();\n      let startX = fromX;\n      let startY = fromY;\n      // Computes the number of pixels to scroll in the given time\n      // Also invokes the scrollable to update the scroll position\n      const animationLoop = () => {\n        requestAnimationFrame(() => {\n          if (cancellable.isCancelled()) {\n            resolve(false);\n            return;\n          }\n          const currentTime = Date.now();\n          const timeElapsed = currentTime - startTime;\n          const distanceToCover = incrementPerMs * timeElapsed;\n          startX += distanceToCover * directionMultiplierX;\n          startY += distanceToCover * directionMultiplierY;\n          scroll(comparatorX(toX, startX), comparatorY(toY, startY), false);\n          startTime = currentTime;\n          if (comparatorX(toX, startX) !== toX || comparatorY(toY, startY) !== toY) {\n            return animationLoop();\n          }\n          resolve(true);\n        });\n      };\n      animationLoop();\n    });\n  }\n  class Cancellable {\n    constructor() {\n      this._isCancelled = false;\n    }\n    cancel() {\n      this._isCancelled = true;\n    }\n    isCancelled() {\n      return this._isCancelled;\n    }\n  }\n});","lineCount":72,"map":[[7,2,12,0,"exports"],[7,9,12,0],[7,10,12,0,"autoScroll"],[7,20,12,0],[7,23,12,0,"autoScroll"],[7,33,12,0],[8,2,49,0,"Object"],[8,8,49,0],[8,9,49,0,"defineProperty"],[8,23,49,0],[8,24,49,0,"exports"],[8,31,49,0],[9,4,49,0,"enumerable"],[9,14,49,0],[10,4,49,0,"get"],[10,7,49,0],[10,18,49,0,"get"],[10,19,49,0],[11,6,49,0],[11,13,49,0,"Cancellable"],[11,24,49,0],[12,4,49,0],[13,2,49,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,0,5,0],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,2,12,7],[25,11,12,16,"autoScroll"],[25,21,12,26,"autoScroll"],[25,22,12,27,"scroll"],[25,28,12,33],[25,30,12,35,"fromX"],[25,35,12,40],[25,37,12,42,"fromY"],[25,42,12,47],[25,44,12,49,"toX"],[25,47,12,52],[25,49,12,54,"toY"],[25,52,12,57],[25,54,12,59,"speedMultiplier"],[25,69,12,74],[25,72,12,77],[25,73,12,78],[25,75,12,80,"cancellable"],[25,86,12,91],[25,89,12,94],[25,93,12,98,"Cancellable"],[25,104,12,109],[25,105,12,110],[25,106,12,111],[25,108,12,113],[26,4,13,4],[26,11,13,11],[26,15,13,15,"Promise"],[26,22,13,22],[26,23,13,24,"resolve"],[26,30,13,31],[26,34,13,36],[27,6,14,8,"scroll"],[27,12,14,14],[27,13,14,15,"fromX"],[27,18,14,20],[27,20,14,22,"fromY"],[27,25,14,27],[27,27,14,29],[27,32,14,34],[27,33,14,35],[28,6,15,8],[29,6,16,8],[29,12,16,14,"incrementPerMs"],[29,26,16,28],[29,29,16,31],[29,30,16,32],[29,33,16,35,"speedMultiplier"],[29,48,16,50],[30,6,17,8],[30,12,17,14,"directionMultiplierX"],[30,32,17,34],[30,35,17,37,"toX"],[30,38,17,40],[30,41,17,43,"fromX"],[30,46,17,48],[30,49,17,51],[30,50,17,52],[30,53,17,55],[30,54,17,56],[30,55,17,57],[31,6,18,8],[31,12,18,14,"directionMultiplierY"],[31,32,18,34],[31,35,18,37,"toY"],[31,38,18,40],[31,41,18,43,"fromY"],[31,46,18,48],[31,49,18,51],[31,50,18,52],[31,53,18,55],[31,54,18,56],[31,55,18,57],[32,6,19,8],[32,12,19,14,"comparatorX"],[32,23,19,25],[32,26,19,28,"toX"],[32,29,19,31],[32,32,19,34,"fromX"],[32,37,19,39],[32,40,19,42,"Math"],[32,44,19,46],[32,45,19,47,"min"],[32,48,19,50],[32,51,19,53,"Math"],[32,55,19,57],[32,56,19,58,"max"],[32,59,19,61],[33,6,20,8],[33,12,20,14,"comparatorY"],[33,23,20,25],[33,26,20,28,"toY"],[33,29,20,31],[33,32,20,34,"fromY"],[33,37,20,39],[33,40,20,42,"Math"],[33,44,20,46],[33,45,20,47,"min"],[33,48,20,50],[33,51,20,53,"Math"],[33,55,20,57],[33,56,20,58,"max"],[33,59,20,61],[34,6,21,8],[34,10,21,12,"startTime"],[34,19,21,21],[34,22,21,24,"Date"],[34,26,21,28],[34,27,21,29,"now"],[34,30,21,32],[34,31,21,33],[34,32,21,34],[35,6,22,8],[35,10,22,12,"startX"],[35,16,22,18],[35,19,22,21,"fromX"],[35,24,22,26],[36,6,23,8],[36,10,23,12,"startY"],[36,16,23,18],[36,19,23,21,"fromY"],[36,24,23,26],[37,6,24,8],[38,6,25,8],[39,6,26,8],[39,12,26,14,"animationLoop"],[39,25,26,27],[39,28,26,30,"animationLoop"],[39,29,26,30],[39,34,26,36],[40,8,27,12,"requestAnimationFrame"],[40,29,27,33],[40,30,27,34],[40,36,27,40],[41,10,28,16],[41,14,28,20,"cancellable"],[41,25,28,31],[41,26,28,32,"isCancelled"],[41,37,28,43],[41,38,28,44],[41,39,28,45],[41,41,28,47],[42,12,29,20,"resolve"],[42,19,29,27],[42,20,29,28],[42,25,29,33],[42,26,29,34],[43,12,30,20],[44,10,31,16],[45,10,32,16],[45,16,32,22,"currentTime"],[45,27,32,33],[45,30,32,36,"Date"],[45,34,32,40],[45,35,32,41,"now"],[45,38,32,44],[45,39,32,45],[45,40,32,46],[46,10,33,16],[46,16,33,22,"timeElapsed"],[46,27,33,33],[46,30,33,36,"currentTime"],[46,41,33,47],[46,44,33,50,"startTime"],[46,53,33,59],[47,10,34,16],[47,16,34,22,"distanceToCover"],[47,31,34,37],[47,34,34,40,"incrementPerMs"],[47,48,34,54],[47,51,34,57,"timeElapsed"],[47,62,34,68],[48,10,35,16,"startX"],[48,16,35,22],[48,20,35,26,"distanceToCover"],[48,35,35,41],[48,38,35,44,"directionMultiplierX"],[48,58,35,64],[49,10,36,16,"startY"],[49,16,36,22],[49,20,36,26,"distanceToCover"],[49,35,36,41],[49,38,36,44,"directionMultiplierY"],[49,58,36,64],[50,10,37,16,"scroll"],[50,16,37,22],[50,17,37,23,"comparatorX"],[50,28,37,34],[50,29,37,35,"toX"],[50,32,37,38],[50,34,37,40,"startX"],[50,40,37,46],[50,41,37,47],[50,43,37,49,"comparatorY"],[50,54,37,60],[50,55,37,61,"toY"],[50,58,37,64],[50,60,37,66,"startY"],[50,66,37,72],[50,67,37,73],[50,69,37,75],[50,74,37,80],[50,75,37,81],[51,10,38,16,"startTime"],[51,19,38,25],[51,22,38,28,"currentTime"],[51,33,38,39],[52,10,39,16],[52,14,39,20,"comparatorX"],[52,25,39,31],[52,26,39,32,"toX"],[52,29,39,35],[52,31,39,37,"startX"],[52,37,39,43],[52,38,39,44],[52,43,39,49,"toX"],[52,46,39,52],[52,50,40,20,"comparatorY"],[52,61,40,31],[52,62,40,32,"toY"],[52,65,40,35],[52,67,40,37,"startY"],[52,73,40,43],[52,74,40,44],[52,79,40,49,"toY"],[52,82,40,52],[52,84,40,54],[53,12,41,20],[53,19,41,27,"animationLoop"],[53,32,41,40],[53,33,41,41],[53,34,41,42],[54,10,42,16],[55,10,43,16,"resolve"],[55,17,43,23],[55,18,43,24],[55,22,43,28],[55,23,43,29],[56,8,44,12],[56,9,44,13],[56,10,44,14],[57,6,45,8],[57,7,45,9],[58,6,46,8,"animationLoop"],[58,19,46,21],[58,20,46,22],[58,21,46,23],[59,4,47,4],[59,5,47,5],[59,6,47,6],[60,2,48,0],[61,2,49,7],[61,8,49,13,"Cancellable"],[61,19,49,24],[61,20,49,25],[62,4,50,4,"constructor"],[62,15,50,15,"constructor"],[62,16,50,15],[62,18,50,18],[63,6,51,8],[63,10,51,12],[63,11,51,13,"_isCancelled"],[63,23,51,25],[63,26,51,28],[63,31,51,33],[64,4,52,4],[65,4,53,4,"cancel"],[65,10,53,10,"cancel"],[65,11,53,10],[65,13,53,13],[66,6,54,8],[66,10,54,12],[66,11,54,13,"_isCancelled"],[66,23,54,25],[66,26,54,28],[66,30,54,32],[67,4,55,4],[68,4,56,4,"isCancelled"],[68,15,56,15,"isCancelled"],[68,16,56,15],[68,18,56,18],[69,6,57,8],[69,13,57,15],[69,17,57,19],[69,18,57,20,"_isCancelled"],[69,30,57,32],[70,4,58,4],[71,2,59,0],[72,0,59,1],[72,3]],"functionMap":{"names":["<global>","autoScroll","Promise$argument_0","animationLoop","requestAnimationFrame$argument_0","Cancellable","Cancellable#constructor","Cancellable#cancel","Cancellable#isCancelled"],"mappings":"AAA;OCW;uBCC;8BCa;kCCC;aDiB;SDC;KDE;CDC;OKC;ICC;KDE;IEC;KFE;IGC;KHE;CLC"},"hasCjsExports":false},"type":"js/module"}]}